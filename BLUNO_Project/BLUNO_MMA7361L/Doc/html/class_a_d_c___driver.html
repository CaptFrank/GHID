<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>MMA7361L_BLE_Sensor_Interrupt_Driven: ADC_Driver Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">MMA7361L_BLE_Sensor_Interrupt_Driven
   &#160;<span id="projectnumber">ver2.0</span>
   </div>
   <div id="projectbrief">A Sensor node made of the MMA7361L</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">ADC_Driver Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="ADC_Driver" -->
<p><code>#include &lt;<a class="el" href="_a_d_c_driver_8h_source.html">ADCDriver.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ADC_Driver:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_a_d_c___driver.png" usemap="#ADC_Driver_map" alt=""/>
  <map id="ADC_Driver_map" name="ADC_Driver_map">
<area href="class_analog___sensor___driver.html" alt="Analog_Sensor_Driver" shape="rect" coords="0,56,142,80"/>
</map>
 </div></div>

<p><a href="class_a_d_c___driver-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_c___driver.html#a80f51622b357a63870fd2bdfabf62ba9">ADC_Driver</a> (const uint8_t pin, const uint8_t direction)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The default constructor.  <a href="#a80f51622b357a63870fd2bdfabf62ba9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_c___driver.html#aa1ccc2ac2edf43b3e6f8a1cee6a125fc">create_FIR_filter</a> (float gain, const float *coefs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">word&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_c___driver.html#a02ba26c350ebff31c5ac7d2de861d321">read</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The read port method.  <a href="#a02ba26c350ebff31c5ac7d2de861d321"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_c___driver.html#a7dd920205a602093ed1f176d0ade8751">write</a> (byte duty_cycle)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The write to the port method.  <a href="#a7dd920205a602093ed1f176d0ade8751"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structanalog__measurement__t.html">analog_measurement_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_c___driver.html#a6699ea9d65c805d36d9b08f663ad6980">_measurement</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Public Context.  <a href="#a6699ea9d65c805d36d9b08f663ad6980"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">word&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_c___driver.html#ab852b3ac3d9dcfba914f956b689b5e0f">filter</a> (word value)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Protected Context.  <a href="#ab852b3ac3d9dcfba914f956b689b5e0f"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This framework back end allows for easy programming of each type of sensor. Either Analog, Digital or Serial Bus devices. This is the base class for the analog devices interfaced to the host. </p>

<p>Definition at line <a class="el" href="_a_d_c_driver_8h_source.html#l00046">46</a> of file <a class="el" href="_a_d_c_driver_8h_source.html">ADCDriver.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a80f51622b357a63870fd2bdfabf62ba9"></a><!-- doxytag: member="ADC_Driver::ADC_Driver" ref="a80f51622b357a63870fd2bdfabf62ba9" args="(const uint8_t pin, const uint8_t direction)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_a_d_c___driver.html#a80f51622b357a63870fd2bdfabf62ba9">ADC_Driver::ADC_Driver</a> </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>direction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The default constructor. </p>
<p>This is the default constructor for analog ports. We can use this for individual analog ports used.</p>
<ul>
<li>The pin value is the analog port used on the Arduino, this value is the mapped name (i.e. Analog port 1 = A1)</li>
</ul>
<ul>
<li>The direction value is the direction of the analog pin that is used. In this case this value can be input ('I'), output ('O')</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pin</td><td>- byte the pin that is used as analog pin </td></tr>
    <tr><td class="paramname">direction</td><td>- byte the direction of the pin (Input / Output) </td></tr>
  </table>
  </dd>
</dl>
<p>Set the important values</p>
<p>Initialize internal variables.</p>
<p>Setup the port </p>

<p>Definition at line <a class="el" href="_a_d_c_driver_8cpp_source.html#l00014">14</a> of file <a class="el" href="_a_d_c_driver_8cpp_source.html">ADCDriver.cpp</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aa1ccc2ac2edf43b3e6f8a1cee6a125fc"></a><!-- doxytag: member="ADC_Driver::create_FIR_filter" ref="aa1ccc2ac2edf43b3e6f8a1cee6a125fc" args="(float gain, const float *coefs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_a_d_c___driver.html#aa1ccc2ac2edf43b3e6f8a1cee6a125fc">ADC_Driver::create_FIR_filter</a> </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>gain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>coefs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This is the create method to create an FIR Filter from the base FIR filter class.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">gain</td><td>- The filter gain </td></tr>
    <tr><td class="paramname">coefs</td><td>- The filter coefficients. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>bool - Successful creation </dd></dl>
<p>We enter the FIR class</p>
<p>Check if the filter is valid </p>

<p>Definition at line <a class="el" href="_a_d_c_driver_8cpp_source.html#l00049">49</a> of file <a class="el" href="_a_d_c_driver_8cpp_source.html">ADCDriver.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab852b3ac3d9dcfba914f956b689b5e0f"></a><!-- doxytag: member="ADC_Driver::filter" ref="ab852b3ac3d9dcfba914f956b689b5e0f" args="(word value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">word <a class="el" href="class_a_d_c___driver.html#ab852b3ac3d9dcfba914f956b689b5e0f">ADC_Driver::filter</a> </td>
          <td>(</td>
          <td class="paramtype">word&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Protected Context. </p>
<p>This is an averaging filter for the signal input read.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>- the value to be processed </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>value - the filtered value</dd></dl>
<p>This is an averaging filter for the signal input read.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>value - the filtered value </dd></dl>
<p>Process the input </p>

<p>Definition at line <a class="el" href="_a_d_c_driver_8cpp_source.html#l00095">95</a> of file <a class="el" href="_a_d_c_driver_8cpp_source.html">ADCDriver.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a02ba26c350ebff31c5ac7d2de861d321"></a><!-- doxytag: member="ADC_Driver::read" ref="a02ba26c350ebff31c5ac7d2de861d321" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">word <a class="el" href="class_a_d_c___driver.html#a02ba26c350ebff31c5ac7d2de861d321">ADC_Driver::read</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The read port method. </p>
<p>This method is the public access reading method to enable reading of the analog port. This returns the value read in an unsigned integer (word - 16bit value), the ADC read results in a 10bit value with a range or:</p>
<ul>
<li>Min: 0</li>
<li>Max: 1024</li>
</ul>
<dl class="return"><dt><b>Returns:</b></dt><dd>result - word the read value from the ADC. </dd></dl>
<p>Assign the internal value and return it. </p>

<p>Definition at line <a class="el" href="_a_d_c_driver_8cpp_source.html#l00028">28</a> of file <a class="el" href="_a_d_c_driver_8cpp_source.html">ADCDriver.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7dd920205a602093ed1f176d0ade8751"></a><!-- doxytag: member="ADC_Driver::write" ref="a7dd920205a602093ed1f176d0ade8751" args="(byte duty_cycle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_a_d_c___driver.html#a7dd920205a602093ed1f176d0ade8751">ADC_Driver::write</a> </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>duty_cycle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The write to the port method. </p>
<p>This method is the public access method that writes to the analog value. Note: This method does not output a digital value such as: 00001010 Instead, this method outputs a PWM (Pulse width modulated) signal, with range oF:</p>
<ul>
<li>Min: 0</li>
<li>Max: 255 </li>
</ul>
<p>Write the analog duty cycle to the PWM generator. </p>

<p>Definition at line <a class="el" href="_a_d_c_driver_8cpp_source.html#l00035">35</a> of file <a class="el" href="_a_d_c_driver_8cpp_source.html">ADCDriver.cpp</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a6699ea9d65c805d36d9b08f663ad6980"></a><!-- doxytag: member="ADC_Driver::_measurement" ref="a6699ea9d65c805d36d9b08f663ad6980" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structanalog__measurement__t.html">analog_measurement_t</a> <a class="el" href="class_a_d_c___driver.html#a6699ea9d65c805d36d9b08f663ad6980">ADC_Driver::_measurement</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Public Context. </p>
<p>The internal measurment. </p>

<p>Definition at line <a class="el" href="_a_d_c_driver_8h_source.html#l00086">86</a> of file <a class="el" href="_a_d_c_driver_8h_source.html">ADCDriver.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/Volumes/DataHDD/Documents/Development Projects/GHID - Beta/GHID/BLUNO_Project/BLUNO_MMA7361L/Src/Main/<a class="el" href="_a_d_c_driver_8h_source.html">ADCDriver.h</a></li>
<li>/Volumes/DataHDD/Documents/Development Projects/GHID - Beta/GHID/BLUNO_Project/BLUNO_MMA7361L/Src/Main/<a class="el" href="_a_d_c_driver_8cpp_source.html">ADCDriver.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Fri Jul 11 2014 11:30:46 for MMA7361L_BLE_Sensor_Interrupt_Driven by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
