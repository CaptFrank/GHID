<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>GHID Framework: Included Libraries/USB_Host_Shield_2.0-master/masstorage.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">GHID Framework
   &#160;<span id="projectnumber">version 2.0</span>
   </div>
   <div id="projectbrief">A Generic human interface device framework</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('masstorage_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Included Libraries/USB_Host_Shield_2.0-master/masstorage.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="masstorage_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* Copyright (C) 2011 Circuits At Home, LTD. All rights reserved.</span>
<a name="l00002"></a>00002 <span class="comment"></span>
<a name="l00003"></a>00003 <span class="comment">This software may be distributed and modified under the terms of the GNU</span>
<a name="l00004"></a>00004 <span class="comment">General Public License version 2 (GPL2) as published by the Free Software</span>
<a name="l00005"></a>00005 <span class="comment">Foundation and appearing in the file GPL2.TXT included in the packaging of</span>
<a name="l00006"></a>00006 <span class="comment">this file. Please note that GPL2 Section 2[b] requires that all works based</span>
<a name="l00007"></a>00007 <span class="comment">on this software must also be made publicly available under the terms of</span>
<a name="l00008"></a>00008 <span class="comment">the GPL2 (&quot;Copyleft&quot;).</span>
<a name="l00009"></a>00009 <span class="comment"></span>
<a name="l00010"></a>00010 <span class="comment">Contact information</span>
<a name="l00011"></a>00011 <span class="comment">-------------------</span>
<a name="l00012"></a>00012 <span class="comment"></span>
<a name="l00013"></a>00013 <span class="comment">Circuits At Home, LTD</span>
<a name="l00014"></a>00014 <span class="comment">Web      :  http://www.circuitsathome.com</span>
<a name="l00015"></a>00015 <span class="comment">e-mail   :  support@circuitsathome.com</span>
<a name="l00016"></a>00016 <span class="comment"> */</span>
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 <span class="preprocessor">#if !defined(__MASSTORAGE_H__)</span>
<a name="l00019"></a>00019 <span class="preprocessor"></span><span class="preprocessor">#define __MASSTORAGE_H__</span>
<a name="l00020"></a>00020 <span class="preprocessor"></span>
<a name="l00021"></a>00021 <span class="comment">// Cruft removal, makes driver smaller, faster.</span>
<a name="l00022"></a>00022 <span class="preprocessor">#ifndef MS_WANT_PARSER</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span><span class="preprocessor">#define MS_WANT_PARSER 0</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &quot;<a class="code" href="_usb_8h.html">Usb.h</a>&quot;</span>
<a name="l00027"></a>00027 
<a name="l00028"></a><a class="code" href="masstorage_8h.html#a86a509a216410b0e356f0fa91c48cdc0">00028</a> <span class="preprocessor">#define bmREQ_MASSOUT       USB_SETUP_HOST_TO_DEVICE|USB_SETUP_TYPE_CLASS|USB_SETUP_RECIPIENT_INTERFACE</span>
<a name="l00029"></a><a class="code" href="masstorage_8h.html#affadc780007914e4b4de088b4df8ddf6">00029</a> <span class="preprocessor"></span><span class="preprocessor">#define bmREQ_MASSIN        USB_SETUP_DEVICE_TO_HOST|USB_SETUP_TYPE_CLASS|USB_SETUP_RECIPIENT_INTERFACE</span>
<a name="l00030"></a>00030 <span class="preprocessor"></span>
<a name="l00031"></a>00031 <span class="comment">// Mass Storage Subclass Constants</span>
<a name="l00032"></a><a class="code" href="masstorage_8h.html#a9564704f249ab75db55a303f331fbedc">00032</a> <span class="preprocessor">#define MASS_SUBCLASS_SCSI_NOT_REPORTED 0x00    // De facto use</span>
<a name="l00033"></a><a class="code" href="masstorage_8h.html#a0abf867686c58deb8a409bf82941e125">00033</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_SUBCLASS_RBC               0x01</span>
<a name="l00034"></a><a class="code" href="masstorage_8h.html#a370a8e5d533df93f23e122dea2468ecb">00034</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_SUBCLASS_ATAPI             0x02    // MMC-5 (ATAPI)</span>
<a name="l00035"></a><a class="code" href="masstorage_8h.html#a5b4847f36fec399d12580113ab50e293">00035</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_SUBCLASS_OBSOLETE1         0x03    // Was QIC-157</span>
<a name="l00036"></a><a class="code" href="masstorage_8h.html#acbb017bda59fefb8bd39f9ea6f11b8ac">00036</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_SUBCLASS_UFI               0x04    // Specifies how to interface Floppy Disk Drives to USB</span>
<a name="l00037"></a><a class="code" href="masstorage_8h.html#a54a77ed01b69a7b2d8acbf70ba3ff018">00037</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_SUBCLASS_OBSOLETE2         0x05    // Was SFF-8070i</span>
<a name="l00038"></a><a class="code" href="masstorage_8h.html#aaf635eb9151eb63855fe227584bb00eb">00038</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_SUBCLASS_SCSI              0x06    // SCSI Transparent Command Set</span>
<a name="l00039"></a><a class="code" href="masstorage_8h.html#a9dba9091cf98b47104ccb400482a46ab">00039</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_SUBCLASS_LSDFS             0x07    // Specifies how host has to negotiate access before trying SCSI</span>
<a name="l00040"></a><a class="code" href="masstorage_8h.html#aeac7060fd6a1fba50872ffb0c9dcba32">00040</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_SUBCLASS_IEEE1667          0x08</span>
<a name="l00041"></a>00041 <span class="preprocessor"></span>
<a name="l00042"></a>00042 <span class="comment">// Mass Storage Class Protocols</span>
<a name="l00043"></a><a class="code" href="masstorage_8h.html#a64c21e402034e68542f25358c7978a67">00043</a> <span class="preprocessor">#define MASS_PROTO_CBI                  0x00    // CBI (with command completion interrupt)</span>
<a name="l00044"></a><a class="code" href="masstorage_8h.html#a5930934a4ce762f4cb9666d8f95ddee9">00044</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_PROTO_CBI_NO_INT           0x01    // CBI (without command completion interrupt)</span>
<a name="l00045"></a><a class="code" href="masstorage_8h.html#a3a6df686184b5c83eeee1f3a23f3e187">00045</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_PROTO_OBSOLETE             0x02</span>
<a name="l00046"></a><a class="code" href="masstorage_8h.html#a17a026f7d64e8daf27b45c295755fdf0">00046</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_PROTO_BBB                  0x50    // Bulk Only Transport</span>
<a name="l00047"></a><a class="code" href="masstorage_8h.html#a32a5145018b9953b26a0c47a3e55f1ea">00047</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_PROTO_UAS                  0x62</span>
<a name="l00048"></a>00048 <span class="preprocessor"></span>
<a name="l00049"></a>00049 <span class="comment">// Request Codes</span>
<a name="l00050"></a><a class="code" href="masstorage_8h.html#a667c00401398c62b8e7edf729d944d78">00050</a> <span class="preprocessor">#define MASS_REQ_ADSC                   0x00</span>
<a name="l00051"></a><a class="code" href="masstorage_8h.html#a42e56089ee1706ec829f8cebb224b1dc">00051</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_REQ_GET                    0xFC</span>
<a name="l00052"></a><a class="code" href="masstorage_8h.html#afe9a90b1dd89a2b1c12eb9b844d6120d">00052</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_REQ_PUT                    0xFD</span>
<a name="l00053"></a><a class="code" href="masstorage_8h.html#a3fc37932ad8bcc25c185fb1efbc099b8">00053</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_REQ_GET_MAX_LUN            0xFE</span>
<a name="l00054"></a><a class="code" href="masstorage_8h.html#a172c269d960fa57ce6dfeaacc6f6197f">00054</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_REQ_BOMSR                  0xFF    // Bulk-Only Mass Storage Reset</span>
<a name="l00055"></a>00055 <span class="preprocessor"></span>
<a name="l00056"></a><a class="code" href="masstorage_8h.html#a439c9558fff25c40219c0f20244e666d">00056</a> <span class="preprocessor">#define MASS_CBW_SIGNATURE              0x43425355</span>
<a name="l00057"></a><a class="code" href="masstorage_8h.html#af92587f54f4d56af3dd2fb3a474c0b33">00057</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_CSW_SIGNATURE              0x53425355</span>
<a name="l00058"></a>00058 <span class="preprocessor"></span>
<a name="l00059"></a><a class="code" href="masstorage_8h.html#ad74d783991b5eea6ad8ef2feb2ce03ea">00059</a> <span class="preprocessor">#define MASS_CMD_DIR_OUT                0 // (0 &lt;&lt; 7)</span>
<a name="l00060"></a><a class="code" href="masstorage_8h.html#a012ee34e4ce8d644c2f75099867b26c0">00060</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_CMD_DIR_IN                 0x80 //(1 &lt;&lt; 7)</span>
<a name="l00061"></a>00061 <span class="preprocessor"></span>
<a name="l00062"></a>00062 <span class="comment">/*</span>
<a name="l00063"></a>00063 <span class="comment"> * Reference documents from T10 (http://www.t10.org)</span>
<a name="l00064"></a>00064 <span class="comment"> * SCSI Primary Commands - 3 (SPC-3)</span>
<a name="l00065"></a>00065 <span class="comment"> * SCSI Block Commands - 2 (SBC-2)</span>
<a name="l00066"></a>00066 <span class="comment"> * Multi-Media Commands - 5 (MMC-5)</span>
<a name="l00067"></a>00067 <span class="comment"> */</span>
<a name="l00068"></a>00068 
<a name="l00069"></a>00069 <span class="comment">/* Group 1 commands (CDB&#39;s here are should all be 6-bytes) */</span>
<a name="l00070"></a><a class="code" href="masstorage_8h.html#aa84c8ac327fad55b9d0e40fea9eda699">00070</a> <span class="preprocessor">#define SCSI_CMD_TEST_UNIT_READY        0x00</span>
<a name="l00071"></a><a class="code" href="masstorage_8h.html#ad0ffafc58d70417e80425b2ee80c1769">00071</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_REQUEST_SENSE          0x03</span>
<a name="l00072"></a><a class="code" href="masstorage_8h.html#ac436d150389d8a97693e63041f440d82">00072</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_FORMAT_UNIT            0x04</span>
<a name="l00073"></a><a class="code" href="masstorage_8h.html#af3f8eee2dcef5f8a49602fbedad6c7cd">00073</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_READ_6                 0x08</span>
<a name="l00074"></a><a class="code" href="masstorage_8h.html#aea0f916f6039e8c8a3d614a3f9f70072">00074</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_WRITE_6                0x0A</span>
<a name="l00075"></a><a class="code" href="masstorage_8h.html#ac1f82346efef75cf197abb8e29cc5f44">00075</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_INQUIRY                0x12</span>
<a name="l00076"></a><a class="code" href="masstorage_8h.html#a3e22395bf2c8cd17fe9b54ff1adeeaaa">00076</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_MODE_SELECT_6          0x15</span>
<a name="l00077"></a><a class="code" href="masstorage_8h.html#ab6164a7d5f81211ce8d98b6a731b4f69">00077</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_MODE_SENSE_6           0x1A</span>
<a name="l00078"></a><a class="code" href="masstorage_8h.html#a17b47e6ce4b10688ac30666c16b14d86">00078</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_START_STOP_UNIT        0x1B</span>
<a name="l00079"></a><a class="code" href="masstorage_8h.html#ac6435ab2e468a79816db996b0a16c024">00079</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_PREVENT_REMOVAL        0x1E</span>
<a name="l00080"></a>00080 <span class="preprocessor"></span><span class="comment">/* Group 2 Commands (CDB&#39;s here are 10-bytes) */</span>
<a name="l00081"></a><a class="code" href="masstorage_8h.html#a0cf196180f614d0a3c956a6ad4623fba">00081</a> <span class="preprocessor">#define SCSI_CMD_READ_FORMAT_CAPACITIES 0x23</span>
<a name="l00082"></a><a class="code" href="masstorage_8h.html#a1f08c7a277432486b2f875035df6790b">00082</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_READ_CAPACITY_10       0x25</span>
<a name="l00083"></a><a class="code" href="masstorage_8h.html#ad3900f141fb70afb8def054384805a2e">00083</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_READ_10                0x28</span>
<a name="l00084"></a><a class="code" href="masstorage_8h.html#ad1733ce8730cdaab39b9b868b73128a0">00084</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_WRITE_10               0x2A</span>
<a name="l00085"></a><a class="code" href="masstorage_8h.html#a8cf967a95a100190e34e1d36ac8af8ac">00085</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_SEEK_10                0x2B</span>
<a name="l00086"></a><a class="code" href="masstorage_8h.html#a4d0fa61cb5f052f57cb6ae0c7130ffed">00086</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_ERASE_10               0x2C</span>
<a name="l00087"></a><a class="code" href="masstorage_8h.html#a6eda361c8742e151c31ba536cf20119e">00087</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_WRITE_AND_VERIFY_10    0x2E</span>
<a name="l00088"></a><a class="code" href="masstorage_8h.html#a8d3ebefbce899ff775e8fab101f59080">00088</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_VERIFY_10              0x2F</span>
<a name="l00089"></a><a class="code" href="masstorage_8h.html#a827c601eec66a6ebc6236839a9041c53">00089</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_SYNCHRONIZE_CACHE      0x35</span>
<a name="l00090"></a><a class="code" href="masstorage_8h.html#a508d064f36c9d623b785c30c97f9b951">00090</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_WRITE_BUFFER           0x3B</span>
<a name="l00091"></a><a class="code" href="masstorage_8h.html#a1ff23f30c34cfb2888cd2df1d40e1b9d">00091</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_READ_BUFFER            0x3C</span>
<a name="l00092"></a><a class="code" href="masstorage_8h.html#adf4eedc9f90ef434238a4a8e8afdca73">00092</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_READ_SUBCHANNEL        0x42</span>
<a name="l00093"></a><a class="code" href="masstorage_8h.html#a0ebdd01a67e4369aea92f24a721a809f">00093</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_READ_TOC               0x43</span>
<a name="l00094"></a><a class="code" href="masstorage_8h.html#a353644f9db92ca364cece3d0ade758a5">00094</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_READ_HEADER            0x44</span>
<a name="l00095"></a><a class="code" href="masstorage_8h.html#a95d32a2c09bbf0c4dfd4af1b7e46cdc5">00095</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_PLAY_AUDIO_10          0x45</span>
<a name="l00096"></a><a class="code" href="masstorage_8h.html#afb11c6718111a43ef7c428fd74094884">00096</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_GET_CONFIGURATION      0x46</span>
<a name="l00097"></a><a class="code" href="masstorage_8h.html#ad569cac66033c4ee22588556e10401ec">00097</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_PLAY_AUDIO_MSF         0x47</span>
<a name="l00098"></a><a class="code" href="masstorage_8h.html#a86981910a450d8fbeef52d0624cd895b">00098</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_PLAY_AUDIO_TI          0x48</span>
<a name="l00099"></a><a class="code" href="masstorage_8h.html#a619fe714336e8ff0ffe1a29b5d07dc2a">00099</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_PLAY_TRACK_REL_10      0x49</span>
<a name="l00100"></a><a class="code" href="masstorage_8h.html#a4ecef213f959406552b3cec16e45ad4a">00100</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_GET_EVENT_STATUS       0x4A</span>
<a name="l00101"></a><a class="code" href="masstorage_8h.html#a6f0410bab960fd45711a5bb54f42163e">00101</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_PAUSE_RESUME           0x4B</span>
<a name="l00102"></a><a class="code" href="masstorage_8h.html#a919892a5c1907067abc52cc318d8243c">00102</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_READ_DISC_INFORMATION  0x51</span>
<a name="l00103"></a><a class="code" href="masstorage_8h.html#a84e65c5e60bd12522e64e5065e747e74">00103</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_READ_TRACK_INFORMATION 0x52</span>
<a name="l00104"></a><a class="code" href="masstorage_8h.html#a14d6804a7f68e14cbac6acf04d5d2979">00104</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_RESERVE_TRACK          0x53</span>
<a name="l00105"></a><a class="code" href="masstorage_8h.html#a2e84c1764b0763610a1485a0ac7277ac">00105</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_SEND_OPC_INFORMATION   0x54</span>
<a name="l00106"></a><a class="code" href="masstorage_8h.html#a4e76274cd7e386da0ef9ea72f0243bdb">00106</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_MODE_SELECT_10         0x55</span>
<a name="l00107"></a><a class="code" href="masstorage_8h.html#af66870e8e5d9bfcac89b86007033c959">00107</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_REPAIR_TRACK           0x58</span>
<a name="l00108"></a><a class="code" href="masstorage_8h.html#a95f71a5e11726543881ca39a47563daa">00108</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_MODE_SENSE_10          0x5A</span>
<a name="l00109"></a><a class="code" href="masstorage_8h.html#aace342bd260644b20dc095779b606ab0">00109</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_CLOSE_TRACK_SESSION    0x5B</span>
<a name="l00110"></a><a class="code" href="masstorage_8h.html#ac1133fe2a2516328335f6dfd7c78422a">00110</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_READ_BUFFER_CAPACITY   0x5C</span>
<a name="l00111"></a><a class="code" href="masstorage_8h.html#a1d7eebb93a9054a0cab613247d398552">00111</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_SEND_CUE_SHEET         0x5D</span>
<a name="l00112"></a>00112 <span class="preprocessor"></span><span class="comment">/* Group 5 Commands (CDB&#39;s here are 12-bytes) */</span>
<a name="l00113"></a><a class="code" href="masstorage_8h.html#a8ef3d9a42b0b1d5b0218720236e148c4">00113</a> <span class="preprocessor">#define SCSI_CMD_REPORT_LUNS            0xA0</span>
<a name="l00114"></a><a class="code" href="masstorage_8h.html#a753c8d9d8c57e824a134f26158bb18ee">00114</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_BLANK                  0xA1</span>
<a name="l00115"></a><a class="code" href="masstorage_8h.html#a4aae30f44cbe99052cb945666b4247f9">00115</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_SECURITY_PROTOCOL_IN   0xA2</span>
<a name="l00116"></a><a class="code" href="masstorage_8h.html#ad72fd236fa7f7e53c4aae0067883e5f2">00116</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_SEND_KEY               0xA3</span>
<a name="l00117"></a><a class="code" href="masstorage_8h.html#aed5b1fe70478a123edf6d01af9e14138">00117</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_REPORT_KEY             0xA4</span>
<a name="l00118"></a><a class="code" href="masstorage_8h.html#ab1423093448ed003ce7dde48546b1fb0">00118</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_PLAY_AUDIO_12          0xA5</span>
<a name="l00119"></a><a class="code" href="masstorage_8h.html#a30aa97d80e09dc7655f6057ef8a76bf8">00119</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_LOAD_UNLOAD            0xA6</span>
<a name="l00120"></a><a class="code" href="masstorage_8h.html#a2b95e6df1bf9b03b22d3eb7a9a4a1a8f">00120</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_SET_READ_AHEAD         0xA7</span>
<a name="l00121"></a><a class="code" href="masstorage_8h.html#ae424e09f43b58d823bdf7ab537425ae1">00121</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_READ_12                0xA8</span>
<a name="l00122"></a><a class="code" href="masstorage_8h.html#aed4e79ab4e47d23b6e49561be3392434">00122</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_PLAY_TRACK_REL_12      0xA9</span>
<a name="l00123"></a><a class="code" href="masstorage_8h.html#abb489ac989eb7453a5ac000f78c7f7b0">00123</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_WRITE_12               0xAA</span>
<a name="l00124"></a><a class="code" href="masstorage_8h.html#a475c01dc106b8de86d42d806b585c7eb">00124</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_READ_MEDIA_SERIAL_12   0xAB</span>
<a name="l00125"></a><a class="code" href="masstorage_8h.html#a95bfc5bbb9bc239124420a080ad3aff0">00125</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_GET_PERFORMANCE        0xAC</span>
<a name="l00126"></a><a class="code" href="masstorage_8h.html#aaadf1967210007cbc969fd13fd910425">00126</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_READ_DVD_STRUCTURE     0xAD</span>
<a name="l00127"></a><a class="code" href="masstorage_8h.html#acffe854ef54bbaec223a0dbc968e12e5">00127</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_SECURITY_PROTOCOL_OUT  0xB5</span>
<a name="l00128"></a><a class="code" href="masstorage_8h.html#aa615cd1a9113b55ea3def7ce1e39fdc0">00128</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_SET_STREAMING          0xB6</span>
<a name="l00129"></a><a class="code" href="masstorage_8h.html#ac022877c7248b787fe5c074c5a579282">00129</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_READ_MSF               0xB9</span>
<a name="l00130"></a><a class="code" href="masstorage_8h.html#a78d22b4df645b4100d61760024cf5217">00130</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_SET_SPEED              0xBB</span>
<a name="l00131"></a><a class="code" href="masstorage_8h.html#af425268596a7979929bf85112adcbadb">00131</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_MECHANISM_STATUS       0xBD</span>
<a name="l00132"></a><a class="code" href="masstorage_8h.html#ae5e0a6ea45e5aa4efd866325ecc8a519">00132</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_READ_CD                0xBE</span>
<a name="l00133"></a><a class="code" href="masstorage_8h.html#a76da46661cf03125908a6d32f3c6672d">00133</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_SEND_DISC_STRUCTURE    0xBF</span>
<a name="l00134"></a>00134 <span class="preprocessor"></span><span class="comment">/* Vendor-unique Commands, included for completeness */</span>
<a name="l00135"></a><a class="code" href="masstorage_8h.html#a341436a3b87d4ccd8c1ba00a52319494">00135</a> <span class="preprocessor">#define SCSI_CMD_CD_PLAYBACK_STATUS     0xC4 </span><span class="comment">/* SONY unique */</span>
<a name="l00136"></a><a class="code" href="masstorage_8h.html#aae41f85d64995d1522571998642b7674">00136</a> <span class="preprocessor">#define SCSI_CMD_PLAYBACK_CONTROL       0xC9 </span><span class="comment">/* SONY unique */</span>
<a name="l00137"></a><a class="code" href="masstorage_8h.html#a3cf8a0b8b509552305d90cdb009041a6">00137</a> <span class="preprocessor">#define SCSI_CMD_READ_CDDA              0xD8 </span><span class="comment">/* Vendor unique */</span>
<a name="l00138"></a><a class="code" href="masstorage_8h.html#acff26776fc541ceb3d739f303255ff3e">00138</a> <span class="preprocessor">#define SCSI_CMD_READ_CDXA              0xDB </span><span class="comment">/* Vendor unique */</span>
<a name="l00139"></a><a class="code" href="masstorage_8h.html#aacde7972a7bd398cf43dc65878b1aa92">00139</a> <span class="preprocessor">#define SCSI_CMD_READ_ALL_SUBCODES      0xDF </span><span class="comment">/* Vendor unique */</span>
<a name="l00140"></a>00140 
<a name="l00141"></a>00141 <span class="comment">/* SCSI error codes */</span>
<a name="l00142"></a><a class="code" href="masstorage_8h.html#a613422ba27c89fe5d72d06d216c9f2a5">00142</a> <span class="preprocessor">#define SCSI_S_NOT_READY                0x02</span>
<a name="l00143"></a><a class="code" href="masstorage_8h.html#a2f2fcd62d5fea0322095b2c4c9d2dd91">00143</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_S_MEDIUM_ERROR             0x03</span>
<a name="l00144"></a><a class="code" href="masstorage_8h.html#a3f36c4b24d404a7bde02e6bf3f87a0cd">00144</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_S_ILLEGAL_REQUEST          0x05</span>
<a name="l00145"></a><a class="code" href="masstorage_8h.html#ae7ab5840b35001bba68d7adae4abcd11">00145</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_S_UNIT_ATTENTION           0x06</span>
<a name="l00146"></a><a class="code" href="masstorage_8h.html#ac6d64023e2b8137eed90917f362ab262">00146</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_ASC_LBA_OUT_OF_RANGE       0x21</span>
<a name="l00147"></a><a class="code" href="masstorage_8h.html#a9fd5f74b6bac6c95990f5f211c04894b">00147</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_ASC_MEDIA_CHANGED          0x28</span>
<a name="l00148"></a><a class="code" href="masstorage_8h.html#ac0c79fb555815317d46e9af6192d959d">00148</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_ASC_MEDIUM_NOT_PRESENT     0x3A</span>
<a name="l00149"></a>00149 <span class="preprocessor"></span>
<a name="l00150"></a>00150 <span class="comment">/* USB error codes */</span>
<a name="l00151"></a><a class="code" href="masstorage_8h.html#a450c2a67aa2b6a1f6593113dcb847569">00151</a> <span class="preprocessor">#define MASS_ERR_SUCCESS                0x00</span>
<a name="l00152"></a><a class="code" href="masstorage_8h.html#afe7b492eca9349e54443c5c08f77b238">00152</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_ERR_PHASE_ERROR            0x02</span>
<a name="l00153"></a><a class="code" href="masstorage_8h.html#a128e4910df8d7770c6f9af7700b9ccb1">00153</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_ERR_UNIT_NOT_READY         0x03</span>
<a name="l00154"></a><a class="code" href="masstorage_8h.html#ab8e02094ea448728c4229e348c90cc54">00154</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_ERR_UNIT_BUSY              0x04</span>
<a name="l00155"></a><a class="code" href="masstorage_8h.html#a13aee9eab965d570a4a00463cd20ca29">00155</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_ERR_STALL                  0x05</span>
<a name="l00156"></a><a class="code" href="masstorage_8h.html#ac3364cf841936aa8c3107e14c06ff65f">00156</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_ERR_CMD_NOT_SUPPORTED      0x06</span>
<a name="l00157"></a><a class="code" href="masstorage_8h.html#a8521fd3c4b7901296d3edae0632c162d">00157</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_ERR_INVALID_CSW            0x07</span>
<a name="l00158"></a><a class="code" href="masstorage_8h.html#aec47def0928045fdca474d78db866c39">00158</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_ERR_NO_MEDIA               0x08</span>
<a name="l00159"></a><a class="code" href="masstorage_8h.html#a57edffb4395696374818f80202aedca4">00159</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_ERR_BAD_LBA                0x09</span>
<a name="l00160"></a><a class="code" href="masstorage_8h.html#a6ddc06e45101114eb7842a7ee57f7d43">00160</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_ERR_MEDIA_CHANGED          0x0A</span>
<a name="l00161"></a><a class="code" href="masstorage_8h.html#a75359f810ebeccd313e4ad9c3a88f231">00161</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_ERR_DEVICE_DISCONNECTED    0x11</span>
<a name="l00162"></a><a class="code" href="masstorage_8h.html#a33f8a926c98ea3a3b7aea4006069a251">00162</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_ERR_UNABLE_TO_RECOVER      0x12    // Reset recovery error</span>
<a name="l00163"></a><a class="code" href="masstorage_8h.html#a5341c969f1daf8a9e8d345c0ba36fa54">00163</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_ERR_INVALID_LUN            0x13</span>
<a name="l00164"></a><a class="code" href="masstorage_8h.html#a1b4efb4cfc2b0d4a912abe587a145b84">00164</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_ERR_WRITE_STALL            0x14</span>
<a name="l00165"></a><a class="code" href="masstorage_8h.html#a4da4bdba7c86bcd6d0a97883de976b74">00165</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_ERR_READ_NAKS              0x15</span>
<a name="l00166"></a><a class="code" href="masstorage_8h.html#a607fa695e441ced8955a48455cd7259d">00166</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_ERR_WRITE_NAKS             0x16</span>
<a name="l00167"></a><a class="code" href="masstorage_8h.html#ac8c588cb96077b615de2bd53f77d4c15">00167</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_ERR_WRITE_PROTECTED        0x17</span>
<a name="l00168"></a><a class="code" href="masstorage_8h.html#a4c80ae6c61331a0dd2a1950a25829a85">00168</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_ERR_NOT_IMPLEMENTED        0xFD</span>
<a name="l00169"></a><a class="code" href="masstorage_8h.html#a2815b1980ee4f05d2712a6492b5272b3">00169</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_ERR_GENERAL_SCSI_ERROR     0xFE</span>
<a name="l00170"></a><a class="code" href="masstorage_8h.html#a6c2dcf2fe5e2bead7ce82793de900eaf">00170</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_ERR_GENERAL_USB_ERROR      0xFF</span>
<a name="l00171"></a><a class="code" href="masstorage_8h.html#ac6e389db899b3083f85ad02f5b4f9711">00171</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_ERR_USER                   0xA0    // For subclasses to define their own error codes</span>
<a name="l00172"></a>00172 <span class="preprocessor"></span>
<a name="l00173"></a><a class="code" href="masstorage_8h.html#a597e2a0f4ee36172c260976af9805415">00173</a> <span class="preprocessor">#define MASS_TRANS_FLG_CALLBACK         0x01    // Callback is involved</span>
<a name="l00174"></a><a class="code" href="masstorage_8h.html#aa230fd8de3da0bcfbd1627e9177de452">00174</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_TRANS_FLG_NO_STALL_CHECK   0x02    // STALL condition is not checked</span>
<a name="l00175"></a><a class="code" href="masstorage_8h.html#a473b3774eb9f7df7f20f676f55deb47e">00175</a> <span class="preprocessor"></span><span class="preprocessor">#define MASS_TRANS_FLG_NO_PHASE_CHECK   0x04    // PHASE_ERROR is not checked</span>
<a name="l00176"></a>00176 <span class="preprocessor"></span>
<a name="l00177"></a><a class="code" href="masstorage_8h.html#ab4baa1ea500923e1fc59e5991f05fe99">00177</a> <span class="preprocessor">#define MASS_MAX_ENDPOINTS              3</span>
<a name="l00178"></a>00178 <span class="preprocessor"></span>
<a name="l00179"></a><a class="code" href="struct_capacity.html">00179</a> <span class="keyword">struct </span><a class="code" href="struct_capacity.html">Capacity</a> {
<a name="l00180"></a><a class="code" href="struct_capacity.html#ae6dd521cd2ece3d6fa6fe58180fb9e8a">00180</a>         uint8_t <a class="code" href="struct_capacity.html#ae6dd521cd2ece3d6fa6fe58180fb9e8a">data</a>[8];
<a name="l00181"></a>00181         <span class="comment">//uint32_t dwBlockAddress;</span>
<a name="l00182"></a>00182         <span class="comment">//uint32_t dwBlockLength;</span>
<a name="l00183"></a>00183 } <a class="code" href="masstorage_8h.html#afb11be68f67463995b57d93d0f8840f5">__attribute__</a>((packed));
<a name="l00184"></a><a class="code" href="masstorage_8h.html#afb87d045bbf32b236fc425efe02bdc7b">00184</a> 
<a name="l00185"></a><a class="code" href="struct_b_a_s_i_c_c_d_b.html">00185</a> <span class="keyword">struct </span><a class="code" href="struct_b_a_s_i_c_c_d_b.html">BASICCDB</a> {
<a name="l00186"></a><a class="code" href="struct_b_a_s_i_c_c_d_b.html#a64d8bea0216a84b8ba8c8f411ceae2c3">00186</a>         uint8_t <a class="code" href="struct_b_a_s_i_c_c_d_b.html#a64d8bea0216a84b8ba8c8f411ceae2c3">Opcode</a>;
<a name="l00187"></a>00187 
<a name="l00188"></a><a class="code" href="struct_b_a_s_i_c_c_d_b.html#a2c6031f3dde94acd5d03c80db213c534">00188</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_b_a_s_i_c_c_d_b.html#a2c6031f3dde94acd5d03c80db213c534">unused</a> : 5;
<a name="l00189"></a><a class="code" href="struct_b_a_s_i_c_c_d_b.html#a2cec985f2fd10576a004108c01d42fb4">00189</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_b_a_s_i_c_c_d_b.html#a2cec985f2fd10576a004108c01d42fb4">LUN</a> : 3;
<a name="l00190"></a>00190 
<a name="l00191"></a><a class="code" href="struct_b_a_s_i_c_c_d_b.html#ae796279e9083692e308e7819349a79fc">00191</a>         uint8_t <a class="code" href="struct_b_a_s_i_c_c_d_b.html#ae796279e9083692e308e7819349a79fc">info</a>[12];
<a name="l00192"></a>00192 } <a class="code" href="masstorage_8h.html#afb11be68f67463995b57d93d0f8840f5">__attribute__</a>((packed));
<a name="l00193"></a><a class="code" href="masstorage_8h.html#aae73b2e7584b87acb54fd7cb3d0253e7">00193</a> 
<a name="l00194"></a><a class="code" href="masstorage_8h.html#aa0e2e213a2f05df124f199eeac3dbdd8">00194</a> <span class="keyword">typedef</span> <a class="code" href="struct_b_a_s_i_c_c_d_b.html">BASICCDB</a> <a class="code" href="masstorage_8h.html#aa0e2e213a2f05df124f199eeac3dbdd8">BASICCDB_t</a>;
<a name="l00195"></a><a class="code" href="masstorage_8h.html#a3a1285aa3d4106cecde1c176f8865f50">00195</a> 
<a name="l00196"></a><a class="code" href="masstorage_8h.html#a9ede1b7f8b8e88fc8323d9d0cde12cea">00196</a> <span class="keyword">struct </span><a class="code" href="struct_c_d_b6.html">CDB6</a> {
<a name="l00197"></a><a class="code" href="struct_c_d_b6.html#af2b06ea02758f3096f48da306371a7d8">00197</a>         uint8_t <a class="code" href="struct_c_d_b6.html#af2b06ea02758f3096f48da306371a7d8">Opcode</a>;
<a name="l00198"></a><a class="code" href="masstorage_8h.html#a85366fe2ca206c0ef75c9f4fc775ebd8">00198</a> 
<a name="l00199"></a><a class="code" href="struct_c_d_b6.html#a1d5e2c34147b5ecc84d20f10e307fd1e">00199</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_c_d_b6.html#a1d5e2c34147b5ecc84d20f10e307fd1e">LBAMSB</a> : 5;
<a name="l00200"></a><a class="code" href="struct_c_d_b6.html#ada1275c63867c75daf71348ec1f8d666">00200</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_c_d_b6.html#ada1275c63867c75daf71348ec1f8d666">LUN</a> : 3;
<a name="l00201"></a>00201 
<a name="l00202"></a><a class="code" href="struct_c_d_b6.html#a6a0be8910a3e8039534b8570365a4207">00202</a>         uint8_t <a class="code" href="struct_c_d_b6.html#a6a0be8910a3e8039534b8570365a4207">LBAHB</a>;
<a name="l00203"></a><a class="code" href="struct_c_d_b6.html#a28933fcb497ecd202ea07d665be57f9c">00203</a>         uint8_t <a class="code" href="struct_c_d_b6.html#a28933fcb497ecd202ea07d665be57f9c">LBALB</a>;
<a name="l00204"></a><a class="code" href="struct_c_d_b6.html#a49d35d920a46db55bc300ee25f6065ef">00204</a>         uint8_t <a class="code" href="struct_c_d_b6.html#a49d35d920a46db55bc300ee25f6065ef">AllocationLength</a>;
<a name="l00205"></a><a class="code" href="struct_c_d_b6.html#a8629bc31675353132e17e5e37b3e0e41">00205</a>         uint8_t <a class="code" href="struct_c_d_b6.html#a8629bc31675353132e17e5e37b3e0e41">Control</a>;
<a name="l00206"></a>00206 
<a name="l00207"></a>00207 <span class="keyword">public</span>:
<a name="l00208"></a>00208 
<a name="l00209"></a><a class="code" href="struct_c_d_b6.html#ac68515ca26c4eabe62e63b5d722c3962">00209</a>         <a class="code" href="struct_c_d_b6.html#ac68515ca26c4eabe62e63b5d722c3962">CDB6</a>(uint8_t _Opcode, uint8_t _LUN, uint32_t LBA, uint8_t _AllocationLength, uint8_t _Control) :
<a name="l00210"></a>00210         <a class="code" href="struct_c_d_b6.html#af2b06ea02758f3096f48da306371a7d8">Opcode</a>(_Opcode), <a class="code" href="struct_c_d_b6.html#a1d5e2c34147b5ecc84d20f10e307fd1e">LBAMSB</a>(BGRAB2(LBA) &amp; 0x1f), <a class="code" href="struct_c_d_b6.html#ada1275c63867c75daf71348ec1f8d666">LUN</a>(_LUN), <a class="code" href="struct_c_d_b6.html#a6a0be8910a3e8039534b8570365a4207">LBAHB</a>(BGRAB1(LBA)), <a class="code" href="struct_c_d_b6.html#a28933fcb497ecd202ea07d665be57f9c">LBALB</a>(BGRAB0(LBA)),
<a name="l00211"></a>00211         <a class="code" href="struct_c_d_b6.html#a49d35d920a46db55bc300ee25f6065ef">AllocationLength</a>(_AllocationLength), <a class="code" href="struct_c_d_b6.html#a8629bc31675353132e17e5e37b3e0e41">Control</a>(_Control) {
<a name="l00212"></a>00212         }
<a name="l00213"></a>00213 
<a name="l00214"></a><a class="code" href="struct_c_d_b6.html#af878d394767d1278deacb11410b772f4">00214</a>         <a class="code" href="struct_c_d_b6.html#ac68515ca26c4eabe62e63b5d722c3962">CDB6</a>(uint8_t _Opcode, uint8_t _LUN, uint8_t _AllocationLength, uint8_t _Control) :
<a name="l00215"></a>00215         <a class="code" href="struct_c_d_b6.html#af2b06ea02758f3096f48da306371a7d8">Opcode</a>(_Opcode), <a class="code" href="struct_c_d_b6.html#a1d5e2c34147b5ecc84d20f10e307fd1e">LBAMSB</a>(0), <a class="code" href="struct_c_d_b6.html#ada1275c63867c75daf71348ec1f8d666">LUN</a>(_LUN), <a class="code" href="struct_c_d_b6.html#a6a0be8910a3e8039534b8570365a4207">LBAHB</a>(0), <a class="code" href="struct_c_d_b6.html#a28933fcb497ecd202ea07d665be57f9c">LBALB</a>(0),
<a name="l00216"></a>00216         <a class="code" href="struct_c_d_b6.html#a49d35d920a46db55bc300ee25f6065ef">AllocationLength</a>(_AllocationLength), <a class="code" href="struct_c_d_b6.html#a8629bc31675353132e17e5e37b3e0e41">Control</a>(_Control) {
<a name="l00217"></a>00217         }
<a name="l00218"></a>00218 } <a class="code" href="masstorage_8h.html#afb11be68f67463995b57d93d0f8840f5">__attribute__</a>((packed));
<a name="l00219"></a>00219 
<a name="l00220"></a><a class="code" href="masstorage_8h.html#a56ab0baf4e98a591274bf8d1acf96d85">00220</a> <span class="keyword">typedef</span> <a class="code" href="struct_c_d_b6.html">CDB6</a> <a class="code" href="masstorage_8h.html#a56ab0baf4e98a591274bf8d1acf96d85">CDB6_t</a>;
<a name="l00221"></a><a class="code" href="masstorage_8h.html#a4e65295b6d615cbeee126c33010a0bd1">00221</a> 
<a name="l00222"></a><a class="code" href="struct_c_d_b10.html">00222</a> <span class="keyword">struct </span><a class="code" href="struct_c_d_b10.html">CDB10</a> {
<a name="l00223"></a><a class="code" href="struct_c_d_b10.html#af18bbff0fec1a1d31c741c542f2e92d6">00223</a>         uint8_t <a class="code" href="struct_c_d_b10.html#af18bbff0fec1a1d31c741c542f2e92d6">Opcode</a>;
<a name="l00224"></a><a class="code" href="masstorage_8h.html#a2d251919405af7270d23752b0d56e6e7">00224</a> 
<a name="l00225"></a><a class="code" href="masstorage_8h.html#a177d0ceb550c157a829a8426097975ff">00225</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_c_d_b10.html#af1cd479d32aae0c581b735eb5aa081bc">Service_Action</a> : 5;
<a name="l00226"></a><a class="code" href="masstorage_8h.html#ac0779d1acf9a7d8e8d67c0dec4d60c17">00226</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_c_d_b10.html#a451be0bca5ee00395c3f6c6993ac384a">LUN</a> : 3;
<a name="l00227"></a><a class="code" href="masstorage_8h.html#a0b2b0e323d0266572561824cdaa0fc45">00227</a> 
<a name="l00228"></a><a class="code" href="struct_c_d_b10.html#ae954128996312f8c1ac3ef9982dfb033">00228</a>         uint8_t <a class="code" href="struct_c_d_b10.html#ae954128996312f8c1ac3ef9982dfb033">LBA_L_M_MB</a>;
<a name="l00229"></a><a class="code" href="struct_c_d_b10.html#aa74c5c59a4bdfeb2aa6e8c163f1fae10">00229</a>         uint8_t <a class="code" href="struct_c_d_b10.html#aa74c5c59a4bdfeb2aa6e8c163f1fae10">LBA_L_M_LB</a>;
<a name="l00230"></a><a class="code" href="struct_c_d_b10.html#a82b8e9bddbdbc8ef4d8b19017743f4a9">00230</a>         uint8_t <a class="code" href="struct_c_d_b10.html#a82b8e9bddbdbc8ef4d8b19017743f4a9">LBA_L_L_MB</a>;
<a name="l00231"></a><a class="code" href="masstorage_8h.html#a21ead088c70b34440ce8bf4adfafce9c">00231</a>         uint8_t <a class="code" href="struct_c_d_b10.html#a87dd0f57fdaedb842f4c7db9b3f7cb2e">LBA_L_L_LB</a>;
<a name="l00232"></a>00232 
<a name="l00233"></a><a class="code" href="struct_c_d_b10.html#a26b2c33b7867c33d19e77c6d873d7924">00233</a>         uint8_t <a class="code" href="struct_c_d_b10.html#a26b2c33b7867c33d19e77c6d873d7924">Misc2</a>;
<a name="l00234"></a>00234 
<a name="l00235"></a><a class="code" href="struct_c_d_b10.html#a31ae08f4bd0767c4fdb070c4c3f64212">00235</a>         uint8_t <a class="code" href="struct_c_d_b10.html#a31ae08f4bd0767c4fdb070c4c3f64212">ALC_MB</a>;
<a name="l00236"></a><a class="code" href="masstorage_8h.html#a7e73a3226d48ded537f47cd27eb18a6f">00236</a>         uint8_t <a class="code" href="struct_c_d_b10.html#a5115777023c2a37ed50b81db126f648c">ALC_LB</a>;
<a name="l00237"></a>00237 
<a name="l00238"></a><a class="code" href="struct_c_d_b10.html#aa39a2ed8852448c4bcbba7d3bc478be5">00238</a>         uint8_t <a class="code" href="struct_c_d_b10.html#aa39a2ed8852448c4bcbba7d3bc478be5">Control</a>;
<a name="l00239"></a>00239 <span class="keyword">public</span>:
<a name="l00240"></a>00240 
<a name="l00241"></a><a class="code" href="struct_c_d_b10.html#abd4957a41f650b096987db5963efb674">00241</a>         <a class="code" href="struct_c_d_b10.html#abd4957a41f650b096987db5963efb674">CDB10</a>(uint8_t _Opcode, uint8_t _LUN) :
<a name="l00242"></a>00242         <a class="code" href="struct_c_d_b10.html#af18bbff0fec1a1d31c741c542f2e92d6">Opcode</a>(_Opcode), <a class="code" href="struct_c_d_b10.html#af1cd479d32aae0c581b735eb5aa081bc">Service_Action</a>(0), <a class="code" href="struct_c_d_b10.html#a451be0bca5ee00395c3f6c6993ac384a">LUN</a>(_LUN),
<a name="l00243"></a>00243         <a class="code" href="struct_c_d_b10.html#ae954128996312f8c1ac3ef9982dfb033">LBA_L_M_MB</a>(0), <a class="code" href="struct_c_d_b10.html#aa74c5c59a4bdfeb2aa6e8c163f1fae10">LBA_L_M_LB</a>(0), <a class="code" href="struct_c_d_b10.html#a82b8e9bddbdbc8ef4d8b19017743f4a9">LBA_L_L_MB</a>(0), <a class="code" href="struct_c_d_b10.html#a87dd0f57fdaedb842f4c7db9b3f7cb2e">LBA_L_L_LB</a>(0),
<a name="l00244"></a>00244         <a class="code" href="struct_c_d_b10.html#a26b2c33b7867c33d19e77c6d873d7924">Misc2</a>(0), <a class="code" href="struct_c_d_b10.html#a31ae08f4bd0767c4fdb070c4c3f64212">ALC_MB</a>(0), <a class="code" href="struct_c_d_b10.html#a5115777023c2a37ed50b81db126f648c">ALC_LB</a>(0), <a class="code" href="struct_c_d_b10.html#aa39a2ed8852448c4bcbba7d3bc478be5">Control</a>(0) {
<a name="l00245"></a>00245         }
<a name="l00246"></a>00246 
<a name="l00247"></a><a class="code" href="struct_c_d_b10.html#ae6b8b5161b2e7971603589c35a27c586">00247</a>         <a class="code" href="struct_c_d_b10.html#abd4957a41f650b096987db5963efb674">CDB10</a>(uint8_t _Opcode, uint8_t _LUN, uint16_t xflen, uint32_t _LBA) :
<a name="l00248"></a>00248         <a class="code" href="struct_c_d_b10.html#af18bbff0fec1a1d31c741c542f2e92d6">Opcode</a>(_Opcode), <a class="code" href="struct_c_d_b10.html#af1cd479d32aae0c581b735eb5aa081bc">Service_Action</a>(0), <a class="code" href="struct_c_d_b10.html#a451be0bca5ee00395c3f6c6993ac384a">LUN</a>(_LUN),
<a name="l00249"></a>00249         <a class="code" href="struct_c_d_b10.html#ae954128996312f8c1ac3ef9982dfb033">LBA_L_M_MB</a>(BGRAB3(_LBA)), <a class="code" href="struct_c_d_b10.html#aa74c5c59a4bdfeb2aa6e8c163f1fae10">LBA_L_M_LB</a>(BGRAB2(_LBA)), <a class="code" href="struct_c_d_b10.html#a82b8e9bddbdbc8ef4d8b19017743f4a9">LBA_L_L_MB</a>(BGRAB1(_LBA)), <a class="code" href="struct_c_d_b10.html#a87dd0f57fdaedb842f4c7db9b3f7cb2e">LBA_L_L_LB</a>(BGRAB0(_LBA)),
<a name="l00250"></a>00250         <a class="code" href="struct_c_d_b10.html#a26b2c33b7867c33d19e77c6d873d7924">Misc2</a>(0), <a class="code" href="struct_c_d_b10.html#a31ae08f4bd0767c4fdb070c4c3f64212">ALC_MB</a>(BGRAB1(xflen)), <a class="code" href="struct_c_d_b10.html#a5115777023c2a37ed50b81db126f648c">ALC_LB</a>(BGRAB0(xflen)), <a class="code" href="struct_c_d_b10.html#aa39a2ed8852448c4bcbba7d3bc478be5">Control</a>(0) {
<a name="l00251"></a>00251         }
<a name="l00252"></a>00252 } <a class="code" href="masstorage_8h.html#afb11be68f67463995b57d93d0f8840f5">__attribute__</a>((packed));
<a name="l00253"></a>00253 
<a name="l00254"></a><a class="code" href="masstorage_8h.html#af952fd9270407996656ba95772511002">00254</a> <span class="keyword">typedef</span> <a class="code" href="struct_c_d_b10.html">CDB10</a> <a class="code" href="masstorage_8h.html#af952fd9270407996656ba95772511002">CDB10_t</a>;
<a name="l00255"></a><a class="code" href="masstorage_8h.html#a50a2c92c4dacb9f13db919e67fe975fa">00255</a> 
<a name="l00256"></a><a class="code" href="struct_c_d_b12.html">00256</a> <span class="keyword">struct </span><a class="code" href="struct_c_d_b12.html">CDB12</a> {
<a name="l00257"></a><a class="code" href="struct_c_d_b12.html#a75c7fb542c6c0ad6ba4a0e95a49ba1e1">00257</a>         uint8_t <a class="code" href="struct_c_d_b12.html#a75c7fb542c6c0ad6ba4a0e95a49ba1e1">Opcode</a>;
<a name="l00258"></a><a class="code" href="masstorage_8h.html#a802f8a2352f6b8f3e55411224f23438d">00258</a> 
<a name="l00259"></a><a class="code" href="masstorage_8h.html#ad0f532137e24739e40e169ca30e7ace9">00259</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_c_d_b12.html#a7d9153a24a41f0432b1467b39d1d5238">Service_Action</a> : 5;
<a name="l00260"></a><a class="code" href="masstorage_8h.html#a894713dc6bc9de2ed7f4766e4e6f236d">00260</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_c_d_b12.html#af59803ec81c006b7bdefc03d80579d07">Misc</a> : 3;
<a name="l00261"></a><a class="code" href="masstorage_8h.html#a97e3397543e63b18f3c23e25fa22c1d5">00261</a> 
<a name="l00262"></a><a class="code" href="struct_c_d_b12.html#a6fb44effe62ecb8ec0de742b836fe194">00262</a>         uint8_t <a class="code" href="struct_c_d_b12.html#a6fb44effe62ecb8ec0de742b836fe194">LBA_L_M_LB</a>;
<a name="l00263"></a><a class="code" href="masstorage_8h.html#a29217ca6bc0940d57ba2b5b185a80e22">00263</a>         uint8_t <a class="code" href="struct_c_d_b12.html#a40bc765adf21818c3a1bc3c8ffeabc94">LBA_L_L_MB</a>;
<a name="l00264"></a><a class="code" href="struct_c_d_b12.html#aa95a1e5187a93f331b34c5aaf05e0cf6">00264</a>         uint8_t <a class="code" href="struct_c_d_b12.html#aa95a1e5187a93f331b34c5aaf05e0cf6">LBA_L_L_LB</a>;
<a name="l00265"></a><a class="code" href="masstorage_8h.html#a8f6423997f320a143a865f752bca7dfd">00265</a> 
<a name="l00266"></a><a class="code" href="masstorage_8h.html#a1f5b82f6f192708d33a8731b2faad9dc">00266</a>         uint8_t <a class="code" href="struct_c_d_b12.html#a4ff6f2492ed55afa147edeb4605e6c06">ALC_M_LB</a>;
<a name="l00267"></a><a class="code" href="struct_c_d_b12.html#a02594e3177ddf6fbc85b11182a00e686">00267</a>         uint8_t <a class="code" href="struct_c_d_b12.html#a02594e3177ddf6fbc85b11182a00e686">ALC_L_MB</a>;
<a name="l00268"></a><a class="code" href="struct_c_d_b12.html#a20b3adfe30452dfcb15466097223dc96">00268</a>         uint8_t <a class="code" href="struct_c_d_b12.html#a20b3adfe30452dfcb15466097223dc96">ALC_L_LB</a>;
<a name="l00269"></a><a class="code" href="struct_c_d_b12.html#a1478895d17ea1ba1e2a70f5f5904e0b7">00269</a>         uint8_t <a class="code" href="struct_c_d_b12.html#a1478895d17ea1ba1e2a70f5f5904e0b7">Control</a>;
<a name="l00270"></a>00270 } <a class="code" href="masstorage_8h.html#afb11be68f67463995b57d93d0f8840f5">__attribute__</a>((packed));
<a name="l00271"></a><a class="code" href="masstorage_8h.html#ab81528e21d88e012bc2399c76a860baf">00271</a> 
<a name="l00272"></a><a class="code" href="masstorage_8h.html#aef69aa16d6edcea3e79cb44775be6b94">00272</a> <span class="keyword">typedef</span> <a class="code" href="struct_c_d_b12.html">CDB12</a> <a class="code" href="masstorage_8h.html#aef69aa16d6edcea3e79cb44775be6b94">CDB12_t</a>;
<a name="l00273"></a>00273 
<a name="l00274"></a><a class="code" href="masstorage_8h.html#aecd8fb147462950f22ffae4eee69f7db">00274</a> <span class="keyword">struct </span><a class="code" href="struct_c_d_b___l_b_a32__16.html">CDB_LBA32_16</a> {
<a name="l00275"></a><a class="code" href="struct_c_d_b___l_b_a32__16.html#abc471d94f83905561d961f4f90629521">00275</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a32__16.html#abc471d94f83905561d961f4f90629521">Opcode</a>;
<a name="l00276"></a>00276 
<a name="l00277"></a><a class="code" href="masstorage_8h.html#a0fe6273376e5ce64106750559b0c9242">00277</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_c_d_b___l_b_a32__16.html#a7e845f1253ac116a6e9d7178f1f82b6d">Service_Action</a> : 5;
<a name="l00278"></a><a class="code" href="struct_c_d_b___l_b_a32__16.html#a50e5250b635b8782b1a82f4f137feefb">00278</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_c_d_b___l_b_a32__16.html#a50e5250b635b8782b1a82f4f137feefb">Misc</a> : 3;
<a name="l00279"></a>00279 
<a name="l00280"></a><a class="code" href="masstorage_8h.html#a53b73d8f8e4666a5954607c57853edd7">00280</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a32__16.html#a4a6ab8304338fa8af41bc180413a4c37">LBA_L_M_MB</a>;
<a name="l00281"></a><a class="code" href="masstorage_8h.html#a4dd6de611712ffb360c702061d8d5080">00281</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a32__16.html#af642464073c45113c7fdf221f40ade1b">LBA_L_M_LB</a>;
<a name="l00282"></a><a class="code" href="masstorage_8h.html#aa4d67ea09adcd6895a6d3ffca42e322d">00282</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a32__16.html#a9b4af68995d60538e2c15ce5e2c06754">LBA_L_L_MB</a>;
<a name="l00283"></a><a class="code" href="struct_c_d_b___l_b_a32__16.html#a1e239989f80f36157fd9271f2141acd1">00283</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a32__16.html#a1e239989f80f36157fd9271f2141acd1">LBA_L_L_LB</a>;
<a name="l00284"></a>00284 
<a name="l00285"></a><a class="code" href="struct_c_d_b___l_b_a32__16.html#aceab9e7479ff5e3a7ea449a97a6e26e2">00285</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a32__16.html#aceab9e7479ff5e3a7ea449a97a6e26e2">A_M_M_MB</a>;
<a name="l00286"></a><a class="code" href="struct_c_d_b___l_b_a32__16.html#afe7168380c8e629cc53432938b47f1f1">00286</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a32__16.html#afe7168380c8e629cc53432938b47f1f1">A_M_M_LB</a>;
<a name="l00287"></a><a class="code" href="struct_c_d_b___l_b_a32__16.html#a104deb61d8c0973b5140fd8f586df4e9">00287</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a32__16.html#a104deb61d8c0973b5140fd8f586df4e9">A_M_L_MB</a>;
<a name="l00288"></a><a class="code" href="struct_c_d_b___l_b_a32__16.html#a636ad8867ce15eb200e30fe1002f3df2">00288</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a32__16.html#a636ad8867ce15eb200e30fe1002f3df2">A_M_L_LB</a>;
<a name="l00289"></a>00289 
<a name="l00290"></a><a class="code" href="struct_c_d_b___l_b_a32__16.html#ab03ff411de8da944cbaba39bd33ae7bc">00290</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a32__16.html#ab03ff411de8da944cbaba39bd33ae7bc">ALC_M_MB</a>;
<a name="l00291"></a><a class="code" href="struct_c_d_b___l_b_a32__16.html#a57fc0fb5cba1f737be25721e7f34f11f">00291</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a32__16.html#a57fc0fb5cba1f737be25721e7f34f11f">ALC_M_LB</a>;
<a name="l00292"></a><a class="code" href="struct_c_d_b___l_b_a32__16.html#afc2671b54d66b5b06fba9a73c2c4cad9">00292</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a32__16.html#afc2671b54d66b5b06fba9a73c2c4cad9">ALC_L_MB</a>;
<a name="l00293"></a><a class="code" href="struct_c_d_b___l_b_a32__16.html#a03d583e8bd99b2d196d734ffd0951fff">00293</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a32__16.html#a03d583e8bd99b2d196d734ffd0951fff">ALC_L_LB</a>;
<a name="l00294"></a>00294 
<a name="l00295"></a><a class="code" href="struct_c_d_b___l_b_a32__16.html#a3809ba2a5399bd407b50b04b8c83cb9f">00295</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a32__16.html#a3809ba2a5399bd407b50b04b8c83cb9f">Misc2</a>;
<a name="l00296"></a><a class="code" href="struct_c_d_b___l_b_a32__16.html#aed4424e6a3afd515084359084a5e8fcb">00296</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a32__16.html#aed4424e6a3afd515084359084a5e8fcb">Control</a>;
<a name="l00297"></a>00297 } <a class="code" href="masstorage_8h.html#afb11be68f67463995b57d93d0f8840f5">__attribute__</a>((packed));
<a name="l00298"></a>00298 
<a name="l00299"></a><a class="code" href="struct_c_d_b___l_b_a64__16.html">00299</a> <span class="keyword">struct </span><a class="code" href="struct_c_d_b___l_b_a64__16.html">CDB_LBA64_16</a> {
<a name="l00300"></a><a class="code" href="struct_c_d_b___l_b_a64__16.html#a20868e9b945a51e146af8a31cad92977">00300</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a64__16.html#a20868e9b945a51e146af8a31cad92977">Opcode</a>;
<a name="l00301"></a><a class="code" href="struct_c_d_b___l_b_a64__16.html#a5f3b9efa508e9e3d79a70414ea5c74ff">00301</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a64__16.html#a5f3b9efa508e9e3d79a70414ea5c74ff">Misc</a>;
<a name="l00302"></a>00302 
<a name="l00303"></a><a class="code" href="struct_c_d_b___l_b_a64__16.html#a0d132ae68523608e5365f253072da224">00303</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a64__16.html#a0d132ae68523608e5365f253072da224">LBA_M_M_MB</a>;
<a name="l00304"></a><a class="code" href="struct_c_d_b___l_b_a64__16.html#aed9c8595adf84a0fde2176afe2e45608">00304</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a64__16.html#aed9c8595adf84a0fde2176afe2e45608">LBA_M_M_LB</a>;
<a name="l00305"></a><a class="code" href="struct_c_d_b___l_b_a64__16.html#a3e6a585296d7ae2e425604b1b1ba3113">00305</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a64__16.html#a3e6a585296d7ae2e425604b1b1ba3113">LBA_M_L_MB</a>;
<a name="l00306"></a><a class="code" href="struct_c_d_b___l_b_a64__16.html#ad3fc14c1607698368df8704cc8d21562">00306</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a64__16.html#ad3fc14c1607698368df8704cc8d21562">LBA_M_L_LB</a>;
<a name="l00307"></a>00307 
<a name="l00308"></a><a class="code" href="masstorage_8h.html#a3a1ecb7fb0d67e5a77b21186dafd0988">00308</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a64__16.html#a84e73dddce6f0967367cbfaeb64bb01f">LBA_L_M_MB</a>;
<a name="l00309"></a><a class="code" href="masstorage_8h.html#ac74078ee862cf21ebd658b5ec3fb6f41">00309</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a64__16.html#a63cbcd1af4db45506a83c7ec603b44ea">LBA_L_M_LB</a>;
<a name="l00310"></a><a class="code" href="masstorage_8h.html#ad09946f85b9c7c731185735fe731bcfb">00310</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a64__16.html#a43f9e4f510e12a6fcc5afd90f740f76e">LBA_L_L_MB</a>;
<a name="l00311"></a><a class="code" href="masstorage_8h.html#ae13b67c42c915550295b0fbf372eafbc">00311</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a64__16.html#a275834d52785e9b72c4eb6b8c0a7d2e2">LBA_L_L_LB</a>;
<a name="l00312"></a>00312 
<a name="l00313"></a><a class="code" href="masstorage_8h.html#ad329a81ac527bd22356961b788787389">00313</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a64__16.html#a9cf979f1acbdc8e11b29b1f9aa81c2f3">ALC_M_MB</a>;
<a name="l00314"></a><a class="code" href="struct_c_d_b___l_b_a64__16.html#a61acd48736824f7a82f23e3dd52a3233">00314</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a64__16.html#a61acd48736824f7a82f23e3dd52a3233">ALC_M_LB</a>;
<a name="l00315"></a><a class="code" href="struct_c_d_b___l_b_a64__16.html#accc008fb29aef96d80833c81b1ab6a7b">00315</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a64__16.html#accc008fb29aef96d80833c81b1ab6a7b">ALC_L_MB</a>;
<a name="l00316"></a><a class="code" href="struct_c_d_b___l_b_a64__16.html#a1b0f65bbe0956d6e4c99d00339fadfec">00316</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a64__16.html#a1b0f65bbe0956d6e4c99d00339fadfec">ALC_L_LB</a>;
<a name="l00317"></a>00317 
<a name="l00318"></a><a class="code" href="struct_c_d_b___l_b_a64__16.html#a9a71353cc6ecb838dfd560a3c985e4a6">00318</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a64__16.html#a9a71353cc6ecb838dfd560a3c985e4a6">Misc2</a>;
<a name="l00319"></a><a class="code" href="struct_c_d_b___l_b_a64__16.html#ad40f82369182a1001877c7f8d818c418">00319</a>         uint8_t <a class="code" href="struct_c_d_b___l_b_a64__16.html#ad40f82369182a1001877c7f8d818c418">Control</a>;
<a name="l00320"></a>00320 } <a class="code" href="masstorage_8h.html#afb11be68f67463995b57d93d0f8840f5">__attribute__</a>((packed));
<a name="l00321"></a>00321 
<a name="l00322"></a><a class="code" href="struct_inquiry_response.html">00322</a> <span class="keyword">struct </span><a class="code" href="struct_inquiry_response.html">InquiryResponse</a> {
<a name="l00323"></a><a class="code" href="struct_inquiry_response.html#abc2af027a176dc85d4e83f14eec7972e">00323</a>         uint8_t <a class="code" href="struct_inquiry_response.html#abc2af027a176dc85d4e83f14eec7972e">DeviceType</a> : 5;
<a name="l00324"></a><a class="code" href="masstorage_8h.html#a68ca6361f11d73b4eead4642f93fa611">00324</a>         uint8_t <a class="code" href="struct_inquiry_response.html#a8e8f2cb6b5a0d1ed2c300155bf2b3faa">PeripheralQualifier</a> : 3;
<a name="l00325"></a><a class="code" href="masstorage_8h.html#ab35f2258f6af6f52300f4e43bab77e87">00325</a> 
<a name="l00326"></a><a class="code" href="masstorage_8h.html#a20195a62d686cb30ae40b1fc485dd494">00326</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#abb4a48d4fc326ad932fb41c82fe289f3">Reserved</a> : 7;
<a name="l00327"></a><a class="code" href="masstorage_8h.html#a0312ba3b329b60c50af6392bdb3c4f05">00327</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#ab6572ef8e5cd457e0699095f6a0c7a3d">Removable</a> : 1;
<a name="l00328"></a>00328 
<a name="l00329"></a><a class="code" href="struct_inquiry_response.html#a86832a5def98c1e21447497177a8cc3a">00329</a>         uint8_t <a class="code" href="struct_inquiry_response.html#a86832a5def98c1e21447497177a8cc3a">Version</a>;
<a name="l00330"></a>00330 
<a name="l00331"></a><a class="code" href="struct_inquiry_response.html#a801e10546dedbd134568bef84f1b287a">00331</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#a801e10546dedbd134568bef84f1b287a">ResponseDataFormat</a> : 4;
<a name="l00332"></a><a class="code" href="struct_inquiry_response.html#a64b542b21ee54739136235785563e036">00332</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#a64b542b21ee54739136235785563e036">HISUP</a> : 1;
<a name="l00333"></a><a class="code" href="struct_inquiry_response.html#a02cb9a4f4f1a080853eeb3fe3a97b6fe">00333</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#a02cb9a4f4f1a080853eeb3fe3a97b6fe">NormACA</a> : 1;
<a name="l00334"></a><a class="code" href="struct_inquiry_response.html#add4ccc2e5f626d29a24e5f38149a2e76">00334</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#add4ccc2e5f626d29a24e5f38149a2e76">TrmTsk</a> : 1;
<a name="l00335"></a><a class="code" href="struct_inquiry_response.html#ad02da835cba8057f07b359903ee0c389">00335</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#ad02da835cba8057f07b359903ee0c389">AERC</a> : 1;
<a name="l00336"></a>00336 
<a name="l00337"></a><a class="code" href="struct_inquiry_response.html#abf1bb662cae5c4d2c2e4dbb454f92e91">00337</a>         uint8_t <a class="code" href="struct_inquiry_response.html#abf1bb662cae5c4d2c2e4dbb454f92e91">AdditionalLength</a>;
<a name="l00338"></a>00338         <span class="comment">//uint8_t Reserved3[2];</span>
<a name="l00339"></a>00339 
<a name="l00340"></a><a class="code" href="struct_inquiry_response.html#a0acb31c77f25be1d6e37c827147645af">00340</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#a0acb31c77f25be1d6e37c827147645af">PROTECT</a> : 1;
<a name="l00341"></a><a class="code" href="struct_inquiry_response.html#a9f642c5fccc1c87cf6b444a138b6aa4b">00341</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#a9f642c5fccc1c87cf6b444a138b6aa4b">Res</a> : 2;
<a name="l00342"></a><a class="code" href="struct_inquiry_response.html#a48b774030b80f98823e9b38aba8a625d">00342</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#a48b774030b80f98823e9b38aba8a625d">ThreePC</a> : 1;
<a name="l00343"></a><a class="code" href="struct_inquiry_response.html#ada0ff6b78ecefa9b00bbe4e518ca4870">00343</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#ada0ff6b78ecefa9b00bbe4e518ca4870">TPGS</a> : 2;
<a name="l00344"></a><a class="code" href="struct_inquiry_response.html#a5b8449c749fe6290adc3bf0901697fbb">00344</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#a5b8449c749fe6290adc3bf0901697fbb">ACC</a> : 1;
<a name="l00345"></a><a class="code" href="struct_inquiry_response.html#a3ed45a85bce19a76850cf5085ab35187">00345</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#a3ed45a85bce19a76850cf5085ab35187">SCCS</a> : 1;
<a name="l00346"></a>00346 
<a name="l00347"></a><a class="code" href="struct_inquiry_response.html#ada87cc4b574b2d9dcce27c6837ee09a3">00347</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#ada87cc4b574b2d9dcce27c6837ee09a3">ADDR16</a> : 1;
<a name="l00348"></a><a class="code" href="struct_inquiry_response.html#a72abbdbd399647227ea05cb1cec32b2d">00348</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#a72abbdbd399647227ea05cb1cec32b2d">R1</a> : 1;
<a name="l00349"></a><a class="code" href="struct_inquiry_response.html#aa635575deb7f984d27142ee2071af5b3">00349</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#aa635575deb7f984d27142ee2071af5b3">R2</a> : 1;
<a name="l00350"></a><a class="code" href="struct_inquiry_response.html#ac4236ae883e8948bc73e91b6ad091ba8">00350</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#ac4236ae883e8948bc73e91b6ad091ba8">MCHNGR</a> : 1;
<a name="l00351"></a><a class="code" href="struct_inquiry_response.html#a6a3fdde354529eb47ea3f43975bc224d">00351</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#a6a3fdde354529eb47ea3f43975bc224d">MULTIP</a> : 1;
<a name="l00352"></a><a class="code" href="struct_inquiry_response.html#a9a6c47a45be5bd1ce230c9fac3cc9bbd">00352</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#a9a6c47a45be5bd1ce230c9fac3cc9bbd">VS</a> : 1;
<a name="l00353"></a><a class="code" href="struct_inquiry_response.html#a6b4df8c5346c15186c9f200997bfb287">00353</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#a6b4df8c5346c15186c9f200997bfb287">ENCSERV</a> : 1;
<a name="l00354"></a><a class="code" href="struct_inquiry_response.html#af735c28637c0ebc8f3e8a04f7b3023cc">00354</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#af735c28637c0ebc8f3e8a04f7b3023cc">BQUE</a> : 1;
<a name="l00355"></a>00355 
<a name="l00356"></a><a class="code" href="struct_inquiry_response.html#ac912c8788475256de0bb7139e4a9f069">00356</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#ac912c8788475256de0bb7139e4a9f069">SoftReset</a> : 1;
<a name="l00357"></a><a class="code" href="struct_inquiry_response.html#a335e2997167a36347d717e1ed997f9be">00357</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#a335e2997167a36347d717e1ed997f9be">CmdQue</a> : 1;
<a name="l00358"></a><a class="code" href="struct_inquiry_response.html#ae5c315ca0c47104b17d5bde7c4d485a6">00358</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#ae5c315ca0c47104b17d5bde7c4d485a6">Reserved4</a> : 1;
<a name="l00359"></a><a class="code" href="struct_inquiry_response.html#ac0ee71a9c07b0c1fd9ff09461a81fa0e">00359</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#ac0ee71a9c07b0c1fd9ff09461a81fa0e">Linked</a> : 1;
<a name="l00360"></a><a class="code" href="struct_inquiry_response.html#ac70c33310966b01936cd0c3ab7477c83">00360</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#ac70c33310966b01936cd0c3ab7477c83">Sync</a> : 1;
<a name="l00361"></a><a class="code" href="struct_inquiry_response.html#a39a63fd0fd92c50370af9aefe93c13cf">00361</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#a39a63fd0fd92c50370af9aefe93c13cf">WideBus16Bit</a> : 1;
<a name="l00362"></a><a class="code" href="struct_inquiry_response.html#a78c6cf3387430de8176b006c4915be63">00362</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#a78c6cf3387430de8176b006c4915be63">WideBus32Bit</a> : 1;
<a name="l00363"></a><a class="code" href="struct_inquiry_response.html#a64121510090cb38926bbb321e98b1a13">00363</a>         <span class="keywordtype">unsigned</span> <a class="code" href="struct_inquiry_response.html#a64121510090cb38926bbb321e98b1a13">RelAddr</a> : 1;
<a name="l00364"></a>00364 
<a name="l00365"></a><a class="code" href="struct_inquiry_response.html#acc610ff84bef225f8826585725ad9802">00365</a>         uint8_t <a class="code" href="struct_inquiry_response.html#acc610ff84bef225f8826585725ad9802">VendorID</a>[8];
<a name="l00366"></a><a class="code" href="struct_inquiry_response.html#a02c12d5c3f7b9e821c6f28dc827f5629">00366</a>         uint8_t <a class="code" href="struct_inquiry_response.html#a02c12d5c3f7b9e821c6f28dc827f5629">ProductID</a>[16];
<a name="l00367"></a><a class="code" href="struct_inquiry_response.html#a23775c8cb582ae07c78449dc1a08c23e">00367</a>         uint8_t <a class="code" href="struct_inquiry_response.html#a23775c8cb582ae07c78449dc1a08c23e">RevisionID</a>[4];
<a name="l00368"></a>00368 } <a class="code" href="masstorage_8h.html#afb11be68f67463995b57d93d0f8840f5">__attribute__</a>((packed));
<a name="l00369"></a><a class="code" href="masstorage_8h.html#a4e1cd5751661114587f4fd623ba998e6">00369</a> 
<a name="l00370"></a><a class="code" href="masstorage_8h.html#aa74731ce00c7b19ddb90fc2348d87e3b">00370</a> <span class="keyword">struct </span><a class="code" href="struct_command_block_wrapper_base.html">CommandBlockWrapperBase</a> {
<a name="l00371"></a><a class="code" href="struct_command_block_wrapper_base.html#a133ffc8ac9be6ce284f10efece567748">00371</a>         uint32_t <a class="code" href="struct_command_block_wrapper_base.html#a133ffc8ac9be6ce284f10efece567748">dCBWSignature</a>;
<a name="l00372"></a><a class="code" href="masstorage_8h.html#a0d430d8eaa55cef3712e2bd0ec15b006">00372</a>         uint32_t <a class="code" href="struct_command_block_wrapper_base.html#a0898a332eec2d598b80a896ff66d5549">dCBWTag</a>;
<a name="l00373"></a><a class="code" href="masstorage_8h.html#a38bab4da595bd2cf269d05c2c2049984">00373</a>         uint32_t <a class="code" href="struct_command_block_wrapper_base.html#a62c537797107ada830b86e1f2d629164">dCBWDataTransferLength</a>;
<a name="l00374"></a><a class="code" href="struct_command_block_wrapper_base.html#a396b36ceef993c32f28b1354727a5e9e">00374</a>         uint8_t <a class="code" href="struct_command_block_wrapper_base.html#a396b36ceef993c32f28b1354727a5e9e">bmCBWFlags</a>;
<a name="l00375"></a><a class="code" href="masstorage_8h.html#a3bee6b95c6449755b9e7c167d1360dc5">00375</a> <span class="keyword">public</span>:
<a name="l00376"></a>00376 
<a name="l00377"></a><a class="code" href="masstorage_8h.html#a80f08a30b3fce214a59d2450f3476c97">00377</a>         <a class="code" href="struct_command_block_wrapper_base.html#a48ae766ceb4fa43c7506e0f3b2982da0">CommandBlockWrapperBase</a>() {
<a name="l00378"></a><a class="code" href="masstorage_8h.html#a6c5a196fc6765353565735716fbc758e">00378</a>         }
<a name="l00379"></a><a class="code" href="masstorage_8h.html#a2648e22b8437be83af34cdecc067dce8">00379</a> 
<a name="l00380"></a><a class="code" href="masstorage_8h.html#a69dea8dd58b86fe80b01a48545608a1d">00380</a>         <a class="code" href="struct_command_block_wrapper_base.html#a48ae766ceb4fa43c7506e0f3b2982da0">CommandBlockWrapperBase</a>(uint32_t tag, uint32_t xflen, uint8_t flgs) :
<a name="l00381"></a><a class="code" href="masstorage_8h.html#a02635bc3ceab76715ff891abbe598bcc">00381</a>         <a class="code" href="struct_command_block_wrapper_base.html#a133ffc8ac9be6ce284f10efece567748">dCBWSignature</a>(<a class="code" href="masstorage_8h.html#a439c9558fff25c40219c0f20244e666d">MASS_CBW_SIGNATURE</a>), <a class="code" href="struct_command_block_wrapper_base.html#a0898a332eec2d598b80a896ff66d5549">dCBWTag</a>(tag), <a class="code" href="struct_command_block_wrapper_base.html#a62c537797107ada830b86e1f2d629164">dCBWDataTransferLength</a>(xflen), <a class="code" href="struct_command_block_wrapper_base.html#a396b36ceef993c32f28b1354727a5e9e">bmCBWFlags</a>(flgs) {
<a name="l00382"></a>00382         }
<a name="l00383"></a><a class="code" href="masstorage_8h.html#a5dbf9572d645742bd06236ea863bced8">00383</a> } <a class="code" href="masstorage_8h.html#afb11be68f67463995b57d93d0f8840f5">__attribute__</a>((packed));
<a name="l00384"></a><a class="code" href="masstorage_8h.html#a25dd7ce6b77786d6f489dddb6e792922">00384</a> 
<a name="l00385"></a><a class="code" href="masstorage_8h.html#a6490a217070a49d7b312b9ae89a7a13d">00385</a> <span class="keyword">struct </span><a class="code" href="struct_command_block_wrapper.html">CommandBlockWrapper</a> : <span class="keyword">public</span> <a class="code" href="struct_command_block_wrapper_base.html">CommandBlockWrapperBase</a> {
<a name="l00386"></a><a class="code" href="masstorage_8h.html#a12937b1125b69a0f086789cd866f62b6">00386</a> 
<a name="l00387"></a><a class="code" href="masstorage_8h.html#a61fc767e89549019ca99adbf939b7861">00387</a>         <span class="keyword">struct </span>{
<a name="l00388"></a><a class="code" href="masstorage_8h.html#a0233c56b4842f6fcedb90eca2561d266">00388</a>                 uint8_t <a class="code" href="struct_command_block_wrapper.html#a2a16bb9a98e3ee4eaac8fea6310b4e01">bmCBWLUN</a> : 4;
<a name="l00389"></a><a class="code" href="masstorage_8h.html#a1b1ebeaeacdb239a77820197fbdfff69">00389</a>                 uint8_t <a class="code" href="struct_command_block_wrapper.html#a4954eacb2cd6d0ee7be475da3b46d907">bmReserved1</a> : 4;
<a name="l00390"></a><a class="code" href="masstorage_8h.html#aa264822104bbdb6fbad650b4f9b8218a">00390</a>         };
<a name="l00391"></a><a class="code" href="masstorage_8h.html#a2d698250083f18418a1b9bfdab0986be">00391</a> 
<a name="l00392"></a>00392         <span class="keyword">struct </span>{
<a name="l00393"></a><a class="code" href="masstorage_8h.html#a748c6ac32965264a2ec689bcf0137cdd">00393</a>                 uint8_t <a class="code" href="struct_command_block_wrapper.html#a069c89f584abbf45c13ebb85ca906494">bmCBWCBLength</a> : 4;
<a name="l00394"></a><a class="code" href="masstorage_8h.html#a7e60b2ca7f2f6943225add97ee69ed00">00394</a>                 uint8_t <a class="code" href="struct_command_block_wrapper.html#ac651509a5fc7789ba59d21fe94c55e77">bmReserved2</a> : 4;
<a name="l00395"></a><a class="code" href="masstorage_8h.html#a7dae2a007c34ecf4796811a14e1c11e2">00395</a>         };
<a name="l00396"></a><a class="code" href="masstorage_8h.html#a17c5dd317f41443c0492ba115c4b3b4e">00396</a> 
<a name="l00397"></a><a class="code" href="masstorage_8h.html#ad3bc9889e38ad020d23934165f3ad8cb">00397</a>         uint8_t <a class="code" href="struct_command_block_wrapper.html#a2f5feafb5e1c993454c1ccd14a17965a">CBWCB</a>[16];
<a name="l00398"></a><a class="code" href="masstorage_8h.html#aa25518c3e9ec408cda72ba0348de230c">00398</a> 
<a name="l00399"></a><a class="code" href="masstorage_8h.html#a0454969a3a83325bf2244a640492c897">00399</a> <span class="keyword">public</span>:
<a name="l00400"></a><a class="code" href="masstorage_8h.html#a1e9eb66f8124b63e7c9135c14b50939c">00400</a>         <span class="comment">// All zeroed.</span>
<a name="l00401"></a>00401 
<a name="l00402"></a><a class="code" href="masstorage_8h.html#a251bc7f70dc85dfaf9e8ff302c65ad5a">00402</a>         <a class="code" href="struct_command_block_wrapper.html#afc172d7a8531a20ac0ff37bd43ff9335">CommandBlockWrapper</a>() :
<a name="l00403"></a><a class="code" href="masstorage_8h.html#a3a5052a3b7eef8a46a61b10121e31f50">00403</a>         <a class="code" href="struct_command_block_wrapper_base.html">CommandBlockWrapperBase</a>(0, 0, 0), <a class="code" href="struct_command_block_wrapper.html#a4954eacb2cd6d0ee7be475da3b46d907">bmReserved1</a>(0), <a class="code" href="struct_command_block_wrapper.html#ac651509a5fc7789ba59d21fe94c55e77">bmReserved2</a>(0) {
<a name="l00404"></a><a class="code" href="masstorage_8h.html#a4917f5463930dbe04f9be93991b03824">00404</a>                 <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; 16; i++) <a class="code" href="struct_command_block_wrapper.html#a2f5feafb5e1c993454c1ccd14a17965a">CBWCB</a>[i] = 0;
<a name="l00405"></a><a class="code" href="masstorage_8h.html#a4a0f4a5c2179d73937150c9bf46ac7d8">00405</a>         }
<a name="l00406"></a><a class="code" href="masstorage_8h.html#a6c6a93e636a8048d26a7b23adb6fde0f">00406</a> 
<a name="l00407"></a><a class="code" href="masstorage_8h.html#a13d4749e731a4d1695fd3f42cb70e266">00407</a>         <span class="comment">// Generic Wrap, CDB zeroed.</span>
<a name="l00408"></a><a class="code" href="masstorage_8h.html#a35371888eae12e18ffdf8013c2c2876c">00408</a> 
<a name="l00409"></a><a class="code" href="masstorage_8h.html#aeb05aa58c792c081444fbabc78e1d7d8">00409</a>         <a class="code" href="struct_command_block_wrapper.html#afc172d7a8531a20ac0ff37bd43ff9335">CommandBlockWrapper</a>(uint32_t tag, uint32_t xflen, uint8_t flgs, uint8_t lu, uint8_t cmdlen, uint8_t cmd) :
<a name="l00410"></a>00410         <a class="code" href="struct_command_block_wrapper_base.html">CommandBlockWrapperBase</a>(tag, xflen, flgs),
<a name="l00411"></a><a class="code" href="masstorage_8h.html#a0e2871fe4fddf323d475e80c6f3e0532">00411</a>         <a class="code" href="struct_command_block_wrapper.html#a2a16bb9a98e3ee4eaac8fea6310b4e01">bmCBWLUN</a>(lu), <a class="code" href="struct_command_block_wrapper.html#a4954eacb2cd6d0ee7be475da3b46d907">bmReserved1</a>(0), <a class="code" href="struct_command_block_wrapper.html#a069c89f584abbf45c13ebb85ca906494">bmCBWCBLength</a>(cmdlen), <a class="code" href="struct_command_block_wrapper.html#ac651509a5fc7789ba59d21fe94c55e77">bmReserved2</a>(0) {
<a name="l00412"></a><a class="code" href="masstorage_8h.html#a891ccc75e93d0882157ec51229dbb212">00412</a>                 <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; 16; i++) <a class="code" href="struct_command_block_wrapper.html#a2f5feafb5e1c993454c1ccd14a17965a">CBWCB</a>[i] = 0;
<a name="l00413"></a><a class="code" href="masstorage_8h.html#adfb28fe580a2dfe29b641eb7865f132d">00413</a>                 <span class="comment">// Type punning can cause optimization problems and bugs.</span>
<a name="l00414"></a>00414                 <span class="comment">// Using reinterpret_cast to a dreinterpretifferent object is the proper way to do this.</span>
<a name="l00415"></a>00415                 <span class="comment">//(((BASICCDB_t *) CBWCB)-&gt;LUN) = cmd;</span>
<a name="l00416"></a>00416                 BASICCDB_t *<a class="code" href="_p_s4_parser_8h.html#a4dde988b1b2adba65ae3efa69f65d960">x</a> = <span class="keyword">reinterpret_cast&lt;</span>BASICCDB_t *<span class="keyword">&gt;</span>(<a class="code" href="struct_command_block_wrapper.html#a2f5feafb5e1c993454c1ccd14a17965a">CBWCB</a>);
<a name="l00417"></a>00417                 x-&gt;<a class="code" href="struct_b_a_s_i_c_c_d_b.html#a2cec985f2fd10576a004108c01d42fb4">LUN</a> = cmd;
<a name="l00418"></a>00418         }
<a name="l00419"></a>00419 
<a name="l00420"></a>00420         <span class="comment">// Wrap for CDB of 6</span>
<a name="l00421"></a>00421 
<a name="l00422"></a><a class="code" href="struct_command_block_wrapper.html#a3e59ab853c6091430a6ccf60845c6822">00422</a>         <a class="code" href="struct_command_block_wrapper.html#afc172d7a8531a20ac0ff37bd43ff9335">CommandBlockWrapper</a>(uint32_t tag, uint32_t xflen, CDB6_t *cdb, uint8_t dir) :
<a name="l00423"></a>00423         <a class="code" href="struct_command_block_wrapper_base.html">CommandBlockWrapperBase</a>(tag, xflen, dir),
<a name="l00424"></a>00424         <a class="code" href="struct_command_block_wrapper.html#a2a16bb9a98e3ee4eaac8fea6310b4e01">bmCBWLUN</a>(cdb-&gt;<a class="code" href="masstorage_8h.html#a9ede1b7f8b8e88fc8323d9d0cde12cea">LUN</a>), <a class="code" href="struct_command_block_wrapper.html#a4954eacb2cd6d0ee7be475da3b46d907">bmReserved1</a>(0), <a class="code" href="struct_command_block_wrapper.html#a069c89f584abbf45c13ebb85ca906494">bmCBWCBLength</a>(6), <a class="code" href="struct_command_block_wrapper.html#ac651509a5fc7789ba59d21fe94c55e77">bmReserved2</a>(0) {
<a name="l00425"></a>00425                 memcpy(&amp;<a class="code" href="struct_command_block_wrapper.html#a2f5feafb5e1c993454c1ccd14a17965a">CBWCB</a>, cdb, 6);
<a name="l00426"></a>00426         }
<a name="l00427"></a>00427         <span class="comment">// Wrap for CDB of 10</span>
<a name="l00428"></a>00428 
<a name="l00429"></a><a class="code" href="struct_command_block_wrapper.html#a66833cea74ea81da389cc54cc78f3013">00429</a>         <a class="code" href="struct_command_block_wrapper.html#afc172d7a8531a20ac0ff37bd43ff9335">CommandBlockWrapper</a>(uint32_t tag, uint32_t xflen, CDB10_t *cdb, uint8_t dir) :
<a name="l00430"></a>00430         <a class="code" href="struct_command_block_wrapper_base.html">CommandBlockWrapperBase</a>(tag, xflen, dir),
<a name="l00431"></a>00431         <a class="code" href="struct_command_block_wrapper.html#a2a16bb9a98e3ee4eaac8fea6310b4e01">bmCBWLUN</a>(cdb-&gt;<a class="code" href="masstorage_8h.html#a9ede1b7f8b8e88fc8323d9d0cde12cea">LUN</a>), <a class="code" href="struct_command_block_wrapper.html#a4954eacb2cd6d0ee7be475da3b46d907">bmReserved1</a>(0), <a class="code" href="struct_command_block_wrapper.html#a069c89f584abbf45c13ebb85ca906494">bmCBWCBLength</a>(10), <a class="code" href="struct_command_block_wrapper.html#ac651509a5fc7789ba59d21fe94c55e77">bmReserved2</a>(0) {
<a name="l00432"></a>00432                 memcpy(&amp;<a class="code" href="struct_command_block_wrapper.html#a2f5feafb5e1c993454c1ccd14a17965a">CBWCB</a>, cdb, 10);
<a name="l00433"></a>00433         }
<a name="l00434"></a>00434 } <a class="code" href="masstorage_8h.html#afb11be68f67463995b57d93d0f8840f5">__attribute__</a>((packed));
<a name="l00435"></a>00435 
<a name="l00436"></a><a class="code" href="struct_command_status_wrapper.html">00436</a> <span class="keyword">struct </span><a class="code" href="struct_command_status_wrapper.html">CommandStatusWrapper</a> {
<a name="l00437"></a><a class="code" href="masstorage_8h.html#a39841b5e0d1a574e30073fbd4f23000c">00437</a>         uint32_t <a class="code" href="struct_command_status_wrapper.html#a498a87759e737395829b6ff4b6420ad1">dCSWSignature</a>;
<a name="l00438"></a><a class="code" href="masstorage_8h.html#a5ca3a43729f20909bb189e7928be3ca2">00438</a>         uint32_t <a class="code" href="struct_command_status_wrapper.html#af872c29cfee3fb74e7ad9471ee4461fb">dCSWTag</a>;
<a name="l00439"></a><a class="code" href="struct_command_status_wrapper.html#adf944665d28bb394a3d9756e8418d09e">00439</a>         uint32_t <a class="code" href="struct_command_status_wrapper.html#adf944665d28bb394a3d9756e8418d09e">dCSWDataResidue</a>;
<a name="l00440"></a><a class="code" href="struct_command_status_wrapper.html#a7170ed5bc0e2bbe04758e687beef4487">00440</a>         uint8_t <a class="code" href="struct_command_status_wrapper.html#a7170ed5bc0e2bbe04758e687beef4487">bCSWStatus</a>;
<a name="l00441"></a>00441 } <a class="code" href="masstorage_8h.html#afb11be68f67463995b57d93d0f8840f5">__attribute__</a>((packed));
<a name="l00442"></a><a class="code" href="masstorage_8h.html#a00618cfef87f1f50506029b4b9ba5b26">00442</a> 
<a name="l00443"></a><a class="code" href="masstorage_8h.html#a6d632dc494a1ecab945e85f7cf2ebebe">00443</a> <span class="keyword">struct </span><a class="code" href="struct_request_sense_responce.html">RequestSenseResponce</a> {
<a name="l00444"></a><a class="code" href="masstorage_8h.html#a0828bc16e03cb92f0fc0eed899ed2afd">00444</a>         uint8_t <a class="code" href="struct_request_sense_responce.html#a7db2938d24b431077a52edd1b8c48557">bResponseCode</a>;
<a name="l00445"></a><a class="code" href="masstorage_8h.html#a1375947e53883d17bd586b6037626268">00445</a>         uint8_t <a class="code" href="struct_request_sense_responce.html#a243e278d4598f7524e2fd48a45269af8">bSegmentNumber</a>;
<a name="l00446"></a><a class="code" href="masstorage_8h.html#ac7174140836bafcce11192c288d618e7">00446</a> 
<a name="l00447"></a><a class="code" href="struct_request_sense_responce.html#affd71e9a5912c4752adb0cb108cf4118">00447</a>         uint8_t <a class="code" href="struct_request_sense_responce.html#affd71e9a5912c4752adb0cb108cf4118">bmSenseKey</a> : 4;
<a name="l00448"></a><a class="code" href="struct_request_sense_responce.html#ae2d8ba719fa3365271924facb832b6d5">00448</a>         uint8_t <a class="code" href="struct_request_sense_responce.html#ae2d8ba719fa3365271924facb832b6d5">bmReserved</a> : 1;
<a name="l00449"></a><a class="code" href="struct_request_sense_responce.html#ae14c0df03bdb15da04b4db655a5a9b66">00449</a>         uint8_t <a class="code" href="struct_request_sense_responce.html#ae14c0df03bdb15da04b4db655a5a9b66">bmILI</a> : 1;
<a name="l00450"></a><a class="code" href="struct_request_sense_responce.html#a72c82a54965c687da13f217753f18f7d">00450</a>         uint8_t <a class="code" href="struct_request_sense_responce.html#a72c82a54965c687da13f217753f18f7d">bmEOM</a> : 1;
<a name="l00451"></a><a class="code" href="masstorage_8h.html#a16bd83701afd2cf52d741ab0b6a7e479">00451</a>         uint8_t <a class="code" href="struct_request_sense_responce.html#a7255f887c70660d714500b4131f7ab23">bmFileMark</a> : 1;
<a name="l00452"></a>00452 
<a name="l00453"></a><a class="code" href="struct_request_sense_responce.html#a4342aa28405753a185d867060fec931e">00453</a>         uint8_t <a class="code" href="struct_request_sense_responce.html#a4342aa28405753a185d867060fec931e">Information</a>[4];
<a name="l00454"></a><a class="code" href="struct_request_sense_responce.html#adbc6f965fe2820222504d1e8853f1518">00454</a>         uint8_t <a class="code" href="struct_request_sense_responce.html#adbc6f965fe2820222504d1e8853f1518">bAdditionalLength</a>;
<a name="l00455"></a><a class="code" href="struct_request_sense_responce.html#ab2f0cab24692ca29dffc231f31198726">00455</a>         uint8_t <a class="code" href="struct_request_sense_responce.html#ab2f0cab24692ca29dffc231f31198726">CmdSpecificInformation</a>[4];
<a name="l00456"></a><a class="code" href="struct_request_sense_responce.html#a554063acfa94e465da27a7dc73cf786a">00456</a>         uint8_t <a class="code" href="struct_request_sense_responce.html#a554063acfa94e465da27a7dc73cf786a">bAdditionalSenseCode</a>;
<a name="l00457"></a><a class="code" href="struct_request_sense_responce.html#a628379310065c48e738bd07037b329e6">00457</a>         uint8_t <a class="code" href="struct_request_sense_responce.html#a628379310065c48e738bd07037b329e6">bAdditionalSenseQualifier</a>;
<a name="l00458"></a><a class="code" href="masstorage_8h.html#a3e531c8033e5833858a7b14c8fc0333f">00458</a>         uint8_t <a class="code" href="struct_request_sense_responce.html#ada14013a7a12b33b5d1ed747a48d5fe0">bFieldReplaceableUnitCode</a>;
<a name="l00459"></a><a class="code" href="struct_request_sense_responce.html#a61d034714befc2fa0fb7dcea30942324">00459</a>         uint8_t <a class="code" href="struct_request_sense_responce.html#a61d034714befc2fa0fb7dcea30942324">SenseKeySpecific</a>[3];
<a name="l00460"></a>00460 } <a class="code" href="masstorage_8h.html#afb11be68f67463995b57d93d0f8840f5">__attribute__</a>((packed));
<a name="l00461"></a><a class="code" href="masstorage_8h.html#a9ad34963d2fa3a5be497560bc55bee44">00461</a> 
<a name="l00462"></a><a class="code" href="masstorage_8h.html#a22bedeff46488189a5f88e98cec430e8">00462</a> <span class="keyword">class </span><a class="code" href="class_bulk_only.html">BulkOnly</a> : <span class="keyword">public</span> USBDeviceConfig, <span class="keyword">public</span> UsbConfigXtracter {
<a name="l00463"></a>00463 <span class="keyword">protected</span>:
<a name="l00464"></a><a class="code" href="masstorage_8h.html#a5932d6de03a3f9c75539da43aa28934d">00464</a>         <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="class_bulk_only.html#a9e487226408578a2971570bcf7de62fe">epDataInIndex</a>; <span class="comment">// DataIn endpoint index</span>
<a name="l00465"></a><a class="code" href="masstorage_8h.html#a6a49cb6134ecc35cbb6a8258376fcc62">00465</a>         <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="class_bulk_only.html#a8d527bdc285870f3571481a4fd982721">epDataOutIndex</a>; <span class="comment">// DataOUT endpoint index</span>
<a name="l00466"></a><a class="code" href="masstorage_8h.html#a994ad75e34d6b5b477c0ebfaeb51aefd">00466</a>         <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="class_bulk_only.html#a03cd96b415990821bdce43b4004c85e4">epInterruptInIndex</a>; <span class="comment">// InterruptIN  endpoint index</span>
<a name="l00467"></a><a class="code" href="masstorage_8h.html#ac68fef4742bfdcb5c59654628e2dce5a">00467</a> 
<a name="l00468"></a><a class="code" href="masstorage_8h.html#a06d23e48902c1a988deaf327b68ab7d7">00468</a>         USB *<a class="code" href="class_bulk_only.html#a6b4ae384eea3aacd8bf916439621973a">pUsb</a>;
<a name="l00469"></a><a class="code" href="class_bulk_only.html#a9968a2119df66fa0093b020e318d8ac6">00469</a>         uint8_t <a class="code" href="class_bulk_only.html#a9968a2119df66fa0093b020e318d8ac6">bAddress</a>;
<a name="l00470"></a><a class="code" href="masstorage_8h.html#a16ca141ca74dabf04aa26e3b7b12fb28">00470</a>         uint8_t <a class="code" href="class_bulk_only.html#ab54f472ec9cd39abdb9f90867943d162">bConfNum</a>; <span class="comment">// configuration number</span>
<a name="l00471"></a><a class="code" href="masstorage_8h.html#af5fd16a72e21dd33988d224d5d4c8a52">00471</a>         uint8_t <a class="code" href="class_bulk_only.html#ac18ad598cd9a1ee99f49d51a572a50a4">bIface</a>; <span class="comment">// interface value</span>
<a name="l00472"></a><a class="code" href="masstorage_8h.html#a05aba9b794ae73e471ad10a4acdd92f9">00472</a>         uint8_t <a class="code" href="class_bulk_only.html#a6cb56ebd0307845321340919e2b35952">bNumEP</a>; <span class="comment">// total number of EP in the configuration</span>
<a name="l00473"></a><a class="code" href="masstorage_8h.html#a4a67cd27b64af91a82d3beb9c64a6045">00473</a>         uint32_t <a class="code" href="class_bulk_only.html#a2d422ee0745cd7c04afff905278c4233">qNextPollTime</a>; <span class="comment">// next poll time</span>
<a name="l00474"></a><a class="code" href="masstorage_8h.html#ad8cf8402094b9b9b7800e2d76d440a5a">00474</a>         <span class="keywordtype">bool</span> <a class="code" href="class_bulk_only.html#a21961ad1130480f534ef3e91f24c56a0">bPollEnable</a>; <span class="comment">// poll enable flag</span>
<a name="l00475"></a><a class="code" href="masstorage_8h.html#ad9cd4740e458278f31db2cd1e8ddfdde">00475</a> 
<a name="l00476"></a><a class="code" href="masstorage_8h.html#a0eaca2cd55762c8df53f183558b529b6">00476</a>         EpInfo <a class="code" href="class_bulk_only.html#aee2247fd0a251e4da36e8c09bbe6917f">epInfo</a>[<a class="code" href="masstorage_8h.html#ab4baa1ea500923e1fc59e5991f05fe99">MASS_MAX_ENDPOINTS</a>];
<a name="l00477"></a>00477 
<a name="l00478"></a><a class="code" href="masstorage_8h.html#a6be66ad718eae87431ba2bf41a36cdc1">00478</a>         uint32_t <a class="code" href="class_bulk_only.html#a7ae682d50badd1386a06f30f35a32d1d">dCBWTag</a>; <span class="comment">// Tag</span>
<a name="l00479"></a>00479         <span class="comment">//uint32_t dCBWDataTransferLength; // Data Transfer Length</span>
<a name="l00480"></a><a class="code" href="class_bulk_only.html#a20ff3cc4bb15c557f57a8c6200b412d1">00480</a>         uint8_t <a class="code" href="class_bulk_only.html#a20ff3cc4bb15c557f57a8c6200b412d1">bLastUsbError</a>; <span class="comment">// Last USB error</span>
<a name="l00481"></a><a class="code" href="class_bulk_only.html#a6bbdd41bf6efc4060f3c36da7d6ed8b2">00481</a>         uint8_t <a class="code" href="class_bulk_only.html#a6bbdd41bf6efc4060f3c36da7d6ed8b2">bMaxLUN</a>; <span class="comment">// Max LUN</span>
<a name="l00482"></a><a class="code" href="class_bulk_only.html#a24c051d401f5f1a9ce65c1bc25ab02dd">00482</a>         uint8_t <a class="code" href="class_bulk_only.html#a24c051d401f5f1a9ce65c1bc25ab02dd">bTheLUN</a>; <span class="comment">// Active LUN</span>
<a name="l00483"></a><a class="code" href="class_bulk_only.html#a73c3f6b8f6f79ad60e5ba05e560b277d">00483</a>         uint32_t <a class="code" href="class_bulk_only.html#a73c3f6b8f6f79ad60e5ba05e560b277d">CurrentCapacity</a>[MASS_MAX_SUPPORTED_LUN]; <span class="comment">// Total sectors</span>
<a name="l00484"></a><a class="code" href="class_bulk_only.html#aa4e2711c6279d48c63e82a63ad458421">00484</a>         uint16_t <a class="code" href="class_bulk_only.html#aa4e2711c6279d48c63e82a63ad458421">CurrentSectorSize</a>[MASS_MAX_SUPPORTED_LUN]; <span class="comment">// Sector size, clipped to 16 bits</span>
<a name="l00485"></a><a class="code" href="class_bulk_only.html#a9f9d9b0925a2cb6b2fb8b10e4d581d28">00485</a>         <span class="keywordtype">bool</span> <a class="code" href="class_bulk_only.html#a9f9d9b0925a2cb6b2fb8b10e4d581d28">LUNOk</a>[MASS_MAX_SUPPORTED_LUN]; <span class="comment">// use this to check for media changes.</span>
<a name="l00486"></a><a class="code" href="class_bulk_only.html#af763ffffdd131949322d583fb4cd2737">00486</a>         <span class="keywordtype">bool</span> <a class="code" href="class_bulk_only.html#af763ffffdd131949322d583fb4cd2737">WriteOk</a>[MASS_MAX_SUPPORTED_LUN];
<a name="l00487"></a>00487         <span class="keywordtype">void</span> <a class="code" href="class_bulk_only.html#ac8a1d7b2ef82d9f6da44928c78039964">PrintEndpointDescriptor</a>(<span class="keyword">const</span> USB_ENDPOINT_DESCRIPTOR* ep_ptr);
<a name="l00488"></a>00488 
<a name="l00489"></a>00489 
<a name="l00490"></a>00490         <span class="comment">// Additional Initialization Method for Subclasses</span>
<a name="l00491"></a>00491 
<a name="l00492"></a><a class="code" href="class_bulk_only.html#a3d253a0bc8f1ac5b7fe1c9e7078691e3">00492</a>         <span class="keyword">virtual</span> uint8_t <a class="code" href="class_bulk_only.html#a3d253a0bc8f1ac5b7fe1c9e7078691e3">OnInit</a>() {
<a name="l00493"></a>00493                 <span class="keywordflow">return</span> 0;
<a name="l00494"></a>00494         };
<a name="l00495"></a>00495 <span class="keyword">public</span>:
<a name="l00496"></a>00496         <a class="code" href="class_bulk_only.html#a530fb250b0a0c92b48bc57e2957ace25">BulkOnly</a>(USB *p);
<a name="l00497"></a>00497 
<a name="l00498"></a><a class="code" href="class_bulk_only.html#abe1e768a46e751e6792164334c973b44">00498</a>         uint8_t <a class="code" href="class_bulk_only.html#abe1e768a46e751e6792164334c973b44">GetLastUsbError</a>() {
<a name="l00499"></a>00499                 <span class="keywordflow">return</span> <a class="code" href="class_bulk_only.html#a20ff3cc4bb15c557f57a8c6200b412d1">bLastUsbError</a>;
<a name="l00500"></a>00500         };
<a name="l00501"></a>00501 
<a name="l00502"></a><a class="code" href="class_bulk_only.html#af4779aa3a30058dd15eb6e612d6761af">00502</a>         uint8_t <a class="code" href="class_bulk_only.html#af4779aa3a30058dd15eb6e612d6761af">GetbMaxLUN</a>() {
<a name="l00503"></a>00503                 <span class="keywordflow">return</span> <a class="code" href="class_bulk_only.html#a6bbdd41bf6efc4060f3c36da7d6ed8b2">bMaxLUN</a>; <span class="comment">// Max LUN</span>
<a name="l00504"></a>00504         }
<a name="l00505"></a>00505 
<a name="l00506"></a><a class="code" href="class_bulk_only.html#adfec4b466c0ba9db172d057727b07ab1">00506</a>         uint8_t <a class="code" href="class_bulk_only.html#adfec4b466c0ba9db172d057727b07ab1">GetbTheLUN</a>() {
<a name="l00507"></a>00507                 <span class="keywordflow">return</span> <a class="code" href="class_bulk_only.html#a24c051d401f5f1a9ce65c1bc25ab02dd">bTheLUN</a>; <span class="comment">// Active LUN</span>
<a name="l00508"></a>00508         }
<a name="l00509"></a>00509 
<a name="l00510"></a>00510         <span class="keywordtype">boolean</span> <a class="code" href="class_bulk_only.html#ab0976e6d4f5fdeff800f3769e7b287c9">WriteProtected</a>(uint8_t lun);
<a name="l00511"></a>00511         uint8_t <a class="code" href="class_bulk_only.html#a2fc74b11c2ecce30e89f84cc1efe0c81">MediaCTL</a>(uint8_t lun, uint8_t ctl);
<a name="l00512"></a>00512         uint8_t <a class="code" href="class_bulk_only.html#a470a8f0ffd6694d9dfc834da5efa627a">Read</a>(uint8_t lun, uint32_t addr, uint16_t bsize, uint8_t blocks, uint8_t *buf);
<a name="l00513"></a>00513         uint8_t <a class="code" href="class_bulk_only.html#a470a8f0ffd6694d9dfc834da5efa627a">Read</a>(uint8_t lun, uint32_t addr, uint16_t bsize, uint8_t blocks, USBReadParser *prs);
<a name="l00514"></a>00514         uint8_t <a class="code" href="class_bulk_only.html#a45d327ddf87e01607c3a5b1849936053">Write</a>(uint8_t lun, uint32_t addr, uint16_t bsize, uint8_t blocks, <span class="keyword">const</span> uint8_t *buf);
<a name="l00515"></a>00515         uint8_t <a class="code" href="class_bulk_only.html#ae7561d686d0b1374b5f9937d6ec8a035">LockMedia</a>(uint8_t lun, uint8_t lock);
<a name="l00516"></a>00516 
<a name="l00517"></a>00517         <span class="keywordtype">bool</span> <a class="code" href="class_bulk_only.html#aa6d74267dc98daeb0552fa234739ab08">LUNIsGood</a>(uint8_t lun);
<a name="l00518"></a>00518         uint32_t <a class="code" href="class_bulk_only.html#a597193e88b168e96878d383619f1377d">GetCapacity</a>(uint8_t lun);
<a name="l00519"></a>00519         uint16_t <a class="code" href="class_bulk_only.html#ac97cfb7558681af4cfaa11fcccc00170">GetSectorSize</a>(uint8_t lun);
<a name="l00520"></a>00520 
<a name="l00521"></a>00521         <span class="comment">// USBDeviceConfig implementation</span>
<a name="l00522"></a>00522         <span class="keyword">virtual</span> uint8_t <a class="code" href="class_bulk_only.html#a51870da9badc037166b86da60bcda6ea">Init</a>(uint8_t parent, uint8_t port, <span class="keywordtype">bool</span> lowspeed);
<a name="l00523"></a>00523         <span class="keyword">virtual</span> uint8_t <a class="code" href="class_bulk_only.html#aa8fe167a7af12dce9964fa5a430c53ea">ConfigureDevice</a>(uint8_t parent, uint8_t port, <span class="keywordtype">bool</span> lowspeed);
<a name="l00524"></a>00524 
<a name="l00525"></a>00525         <span class="keyword">virtual</span> uint8_t <a class="code" href="class_bulk_only.html#a8a9b213d1800db2d8e661d242b57b195">Release</a>();
<a name="l00526"></a>00526         <span class="keyword">virtual</span> uint8_t <a class="code" href="class_bulk_only.html#a51b8a76f5e16697476ce2dcff2514bc6">Poll</a>();
<a name="l00527"></a>00527 
<a name="l00528"></a><a class="code" href="class_bulk_only.html#a376cb3367071555816e2b0c74ad7eb12">00528</a>         <span class="keyword">virtual</span> uint8_t <a class="code" href="class_bulk_only.html#a376cb3367071555816e2b0c74ad7eb12">GetAddress</a>() {
<a name="l00529"></a>00529                 <span class="keywordflow">return</span> <a class="code" href="class_bulk_only.html#a9968a2119df66fa0093b020e318d8ac6">bAddress</a>;
<a name="l00530"></a>00530         };
<a name="l00531"></a>00531 
<a name="l00532"></a>00532         <span class="comment">// UsbConfigXtracter implementation</span>
<a name="l00533"></a>00533         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_bulk_only.html#a13d33906543d5d6b44620f430dc729ff">EndpointXtract</a>(uint8_t conf, uint8_t iface, uint8_t alt, uint8_t proto, <span class="keyword">const</span> USB_ENDPOINT_DESCRIPTOR *ep);
<a name="l00534"></a>00534 
<a name="l00535"></a><a class="code" href="class_bulk_only.html#a509fdebcff72a9c0c8db706416f5bf23">00535</a>         <span class="keyword">virtual</span> <span class="keywordtype">boolean</span> <a class="code" href="class_bulk_only.html#a509fdebcff72a9c0c8db706416f5bf23">DEVCLASSOK</a>(uint8_t klass) {
<a name="l00536"></a>00536                 <span class="keywordflow">return</span> (klass == USB_CLASS_MASS_STORAGE);
<a name="l00537"></a>00537         }
<a name="l00538"></a>00538 
<a name="l00539"></a>00539         uint8_t <a class="code" href="class_bulk_only.html#abec80bf6c8306115de66c0f87389bbd3">SCSITransaction6</a>(CDB6_t *cdb, uint16_t buf_size, <span class="keywordtype">void</span> *buf, uint8_t dir);
<a name="l00540"></a>00540         uint8_t <a class="code" href="class_bulk_only.html#af07ab48c6b9e6bdb4f0d050adbae518d">SCSITransaction10</a>(CDB10_t *cdb, uint16_t buf_size, <span class="keywordtype">void</span> *buf, uint8_t dir);
<a name="l00541"></a>00541 
<a name="l00542"></a>00542 <span class="keyword">private</span>:
<a name="l00543"></a>00543         uint8_t Inquiry(uint8_t lun, uint16_t size, uint8_t *buf);
<a name="l00544"></a>00544         uint8_t TestUnitReady(uint8_t lun);
<a name="l00545"></a>00545         uint8_t RequestSense(uint8_t lun, uint16_t size, uint8_t *buf);
<a name="l00546"></a>00546         uint8_t ModeSense6(uint8_t lun, uint8_t pc, uint8_t page, uint8_t subpage, uint8_t len, uint8_t *buf);
<a name="l00547"></a>00547         uint8_t GetMaxLUN(uint8_t *max_lun);
<a name="l00548"></a>00548         uint8_t SetCurLUN(uint8_t lun);
<a name="l00549"></a>00549         <span class="keywordtype">void</span> Reset();
<a name="l00550"></a>00550         uint8_t ResetRecovery();
<a name="l00551"></a>00551         uint8_t ReadCapacity10(uint8_t lun, uint8_t *buf);
<a name="l00552"></a>00552         <span class="keywordtype">void</span> ClearAllEP();
<a name="l00553"></a>00553         <span class="keywordtype">void</span> CheckMedia();
<a name="l00554"></a>00554         <span class="keywordtype">boolean</span> CheckLUN(uint8_t lun);
<a name="l00555"></a>00555         uint8_t Page3F(uint8_t lun);
<a name="l00556"></a>00556         <span class="keywordtype">bool</span> IsValidCBW(uint8_t size, uint8_t *pcbw);
<a name="l00557"></a>00557         <span class="keywordtype">bool</span> IsMeaningfulCBW(uint8_t size, uint8_t *pcbw);
<a name="l00558"></a>00558 
<a name="l00559"></a>00559         <span class="keywordtype">bool</span> IsValidCSW(<a class="code" href="struct_command_status_wrapper.html">CommandStatusWrapper</a> *pcsw, <a class="code" href="struct_command_block_wrapper_base.html">CommandBlockWrapperBase</a> *pcbw);
<a name="l00560"></a>00560 
<a name="l00561"></a>00561         uint8_t ClearEpHalt(uint8_t index);
<a name="l00562"></a>00562 <span class="preprocessor">#if MS_WANT_PARSER</span>
<a name="l00563"></a>00563 <span class="preprocessor"></span>        uint8_t Transaction(<a class="code" href="struct_command_block_wrapper.html">CommandBlockWrapper</a> *cbw, uint16_t bsize, <span class="keywordtype">void</span> *buf, uint8_t flags);
<a name="l00564"></a>00564 <span class="preprocessor">#endif</span>
<a name="l00565"></a>00565 <span class="preprocessor"></span>        uint8_t Transaction(<a class="code" href="struct_command_block_wrapper.html">CommandBlockWrapper</a> *cbw, uint16_t bsize, <span class="keywordtype">void</span> *buf);
<a name="l00566"></a>00566         uint8_t HandleUsbError(uint8_t error, uint8_t index);
<a name="l00567"></a>00567         uint8_t HandleSCSIError(uint8_t status);
<a name="l00568"></a>00568 
<a name="l00569"></a>00569 };
<a name="l00570"></a>00570 
<a name="l00571"></a>00571 <span class="preprocessor">#endif // __MASSTORAGE_H__</span>
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="masstorage_8h.html">masstorage.h</a>      </li>

    <li class="footer">Generated on Sun Mar 30 2014 17:05:29 for GHID Framework by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
